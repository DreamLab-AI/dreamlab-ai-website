import{s as qt,d as r,z as Pt,r as xt,A as _e,a as U,i as S,b as a,q as je,l as c,m as Kt,g as E,c as h,e as b,o as W,f as N,j as D,h as v,t as P,k as tt,p as Rt,x as Re,n as oe,u as lt,v as st}from"../chunks/0ZVSoAEn.js";import{S as Wt,i as Yt,d as zt,t as qe,a as Ke,c as Jt,m as Ft,b as Ot,e as Ut,g as Zt}from"../chunks/DKVmOqaf.js";import{e as Se,u as Gt,d as Qt}from"../chunks/m0NROLOn.js";import{g as nt}from"../chunks/CTVLmyHZ.js";import{b as at}from"../chunks/xKPZ-4ZK.js";import{p as Xt}from"../chunks/BdMR7A5I.js";import{g as $t,a as Dt,b as el,c as tl,d as ll,e as sl}from"../chunks/DxD0Wn3l.js";import{w as nl,u as al}from"../chunks/Cufo8aq4.js";import{g as il,f as rl}from"../chunks/BuFVxY09.js";import{f as ol}from"../chunks/Cdd36rY-.js";import{g as cl}from"../chunks/CoU6iS7W.js";import{B as dl}from"../chunks/eGtfPii9.js";import{E as fl}from"../chunks/BJb07stM.js";function It(n,e,l){const t=n.slice();return t[29]=e[l],t}function Vt(n,e,l){const t=n.slice();return t[32]=e[l],t}function St(n,e,l){const t=n.slice();return t[35]=e[l],t}function ul(n){let e;return{c(){e=P("Section Calendar")},l(l){e=N(l,"Section Calendar")},m(l,t){S(l,e,t)},p:oe,d(l){l&&r(e)}}}function hl(n){let e,l=n[2].icon+"",t,s,o=n[2].name+"",i,f;return{c(){e=v("span"),t=P(l),s=D(),i=P(o),f=P(" Calendar"),this.h()},l(d){e=h(d,"SPAN",{class:!0});var p=b(e);t=N(p,l),p.forEach(r),s=E(d),i=N(d,o),f=N(d," Calendar"),this.h()},h(){c(e,"class","mr-2")},m(d,p){S(d,e,p),a(e,t),S(d,s,p),S(d,i,p),S(d,f,p)},p(d,p){p[0]&4&&l!==(l=d[2].icon+"")&&U(t,l),p[0]&4&&o!==(o=d[2].name+"")&&U(i,o)},d(d){d&&(r(e),r(s),r(i),r(f))}}}function Mt(n){let e=n[2].description+"",l;return{c(){l=P(e)},l(t){l=N(t,e)},m(t,s){S(t,l,s)},p(t,s){s[0]&4&&e!==(e=t[2].description+"")&&U(l,e)},d(t){t&&r(l)}}}function Tt(n){let e,l="Availability Only - Join section for details";return{c(){e=v("div"),e.textContent=l,this.h()},l(t){e=h(t,"DIV",{class:!0,"data-svelte-h":!0}),W(e)!=="svelte-pt7oyk"&&(e.textContent=l),this.h()},h(){c(e,"class","badge badge-warning mt-2")},m(t,s){S(t,e,s)},d(t){t&&r(e)}}}function jt(n){let e,l,t=n[35].icon+"",s,o,i,f=n[35].name+"",d,p,k,_;function y(){return n[22](n[32],n[35])}return{c(){e=v("button"),l=v("span"),s=P(t),o=D(),i=v("span"),d=P(f),p=D(),this.h()},l(m){e=h(m,"BUTTON",{class:!0});var w=b(e);l=h(w,"SPAN",{});var A=b(l);s=N(A,t),A.forEach(r),o=E(w),i=h(w,"SPAN",{class:!0});var M=b(i);d=N(M,f),M.forEach(r),p=E(w),w.forEach(r),this.h()},h(){c(i,"class","truncate"),c(e,"class","btn btn-sm btn-block justify-start gap-2"),_e(e,"btn-primary",n[1]===n[35].id),_e(e,"btn-ghost",n[1]!==n[35].id)},m(m,w){S(m,e,w),a(e,l),a(l,s),a(e,o),a(e,i),a(i,d),a(e,p),k||(_=je(e,"click",y),k=!0)},p(m,w){n=m,w[0]&512&&t!==(t=n[35].icon+"")&&U(s,t),w[0]&512&&f!==(f=n[35].name+"")&&U(d,f),w[0]&514&&_e(e,"btn-primary",n[1]===n[35].id),w[0]&514&&_e(e,"btn-ghost",n[1]!==n[35].id)},d(m){m&&r(e),k=!1,_()}}}function At(n){let e,l=n[32].icon+"",t,s,o=n[32].name+"",i,f,d,p=Se(n[32].sections||[]),k=[];for(let _=0;_<p.length;_+=1)k[_]=jt(St(n,p,_));return{c(){e=v("div"),t=P(l),s=D(),i=P(o),f=D();for(let _=0;_<k.length;_+=1)k[_].c();d=Re(),this.h()},l(_){e=h(_,"DIV",{class:!0});var y=b(e);t=N(y,l),s=E(y),i=N(y,o),y.forEach(r),f=E(_);for(let m=0;m<k.length;m+=1)k[m].l(_);d=Re(),this.h()},h(){c(e,"class","text-xs text-base-content/60 uppercase font-semibold mt-2")},m(_,y){S(_,e,y),a(e,t),a(e,s),a(e,i),S(_,f,y);for(let m=0;m<k.length;m+=1)k[m]&&k[m].m(_,y);S(_,d,y)},p(_,y){if(y[0]&512&&l!==(l=_[32].icon+"")&&U(t,l),y[0]&512&&o!==(o=_[32].name+"")&&U(i,o),y[0]&16898){p=Se(_[32].sections||[]);let m;for(m=0;m<p.length;m+=1){const w=St(_,p,m);k[m]?k[m].p(w,y):(k[m]=jt(w),k[m].c(),k[m].m(d.parentNode,d))}for(;m<k.length;m+=1)k[m].d(1);k.length=p.length}},d(_){_&&(r(e),r(f),r(d)),Pt(k,_)}}}function vl(n){let e,l="No Access";return{c(){e=v("div"),e.textContent=l,this.h()},l(t){e=h(t,"DIV",{class:!0,"data-svelte-h":!0}),W(e)!=="svelte-1po76a1"&&(e.textContent=l),this.h()},h(){c(e,"class","badge badge-error")},m(t,s){S(t,e,s)},d(t){t&&r(e)}}}function _l(n){let e,l="Availability Only";return{c(){e=v("div"),e.textContent=l,this.h()},l(t){e=h(t,"DIV",{class:!0,"data-svelte-h":!0}),W(e)!=="svelte-jfdaej"&&(e.textContent=l),this.h()},h(){c(e,"class","badge badge-warning")},m(t,s){S(t,e,s)},d(t){t&&r(e)}}}function ml(n){let e,l="Full Access";return{c(){e=v("div"),e.textContent=l,this.h()},l(t){e=h(t,"DIV",{class:!0,"data-svelte-h":!0}),W(e)!=="svelte-v6p18s"&&(e.textContent=l),this.h()},h(){c(e,"class","badge badge-success")},m(t,s){S(t,e,s)},d(t){t&&r(e)}}}function Bt(n){let e,l="You can create events in this section";return{c(){e=v("p"),e.textContent=l,this.h()},l(t){e=h(t,"P",{class:!0,"data-svelte-h":!0}),W(e)!=="svelte-1qfffpm"&&(e.textContent=l),this.h()},h(){c(e,"class","text-xs text-base-content/60 mt-2")},m(t,s){S(t,e,s)},d(t){t&&r(e)}}}function pl(n){let e;function l(o,i){return o[8].length===0?wl:yl}let t=l(n),s=t(n);return{c(){e=v("div"),s.c(),this.h()},l(o){e=h(o,"DIV",{class:!0});var i=b(e);s.l(i),i.forEach(r),this.h()},h(){c(e,"class","space-y-3")},m(o,i){S(o,e,i),s.m(e,null)},p(o,i){t===(t=l(o))&&s?s.p(o,i):(s.d(1),s=t(o),s&&(s.c(),s.m(e,null)))},i:oe,o:oe,d(o){o&&r(e),s.d()}}}function bl(n){let e,l;return e=new fl({props:{events:n[8],availabilityBlocks:n[3],currentDate:n[12]}}),e.$on("eventClick",n[13]),e.$on("dayClick",El),{c(){Ut(e.$$.fragment)},l(t){Ot(e.$$.fragment,t)},m(t,s){Ft(e,t,s),l=!0},p(t,s){const o={};s[0]&256&&(o.events=t[8]),s[0]&8&&(o.availabilityBlocks=t[3]),e.$set(o)},i(t){l||(Ke(e.$$.fragment,t),l=!0)},o(t){qe(e.$$.fragment,t),l=!1},d(t){zt(e,t)}}}function gl(n){let e,l,t;return{c(){e=v("div"),l=v("span"),t=P(n[5]),this.h()},l(s){e=h(s,"DIV",{class:!0});var o=b(e);l=h(o,"SPAN",{});var i=b(l);t=N(i,n[5]),i.forEach(r),o.forEach(r),this.h()},h(){c(e,"class","alert alert-error")},m(s,o){S(s,e,o),a(e,l),a(l,t)},p(s,o){o[0]&32&&U(t,s[5])},i:oe,o:oe,d(s){s&&r(e)}}}function kl(n){let e,l='<span class="loading loading-spinner loading-lg text-primary"></span>';return{c(){e=v("div"),e.innerHTML=l,this.h()},l(t){e=h(t,"DIV",{class:!0,"data-svelte-h":!0}),W(e)!=="svelte-x7gtd4"&&(e.innerHTML=l),this.h()},h(){c(e,"class","flex justify-center items-center min-h-[400px]")},m(t,s){S(t,e,s)},p:oe,i:oe,o:oe,d(t){t&&r(e)}}}function yl(n){let e=[],l=new Map,t,s=Se(n[8]);const o=i=>i[29].id;for(let i=0;i<s.length;i+=1){let f=It(n,s,i),d=o(f);l.set(d,e[i]=Nt(d,f))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();t=Re()},l(i){for(let f=0;f<e.length;f+=1)e[f].l(i);t=Re()},m(i,f){for(let d=0;d<e.length;d+=1)e[d]&&e[d].m(i,f);S(i,t,f)},p(i,f){f[0]&8576&&(s=Se(i[8]),e=Gt(e,f,o,1,i,s,l,t.parentNode,Qt,Nt,t,It))},d(i){i&&r(t);for(let f=0;f<e.length;f+=1)e[f].d(i)}}}function wl(n){let e,l='<div class="card-body items-center text-center"><p class="text-base-content/70">No events in this section</p></div>';return{c(){e=v("div"),e.innerHTML=l,this.h()},l(t){e=h(t,"DIV",{class:!0,"data-svelte-h":!0}),W(e)!=="svelte-19dbwjo"&&(e.innerHTML=l),this.h()},h(){c(e,"class","card bg-base-200")},m(t,s){S(t,e,s)},p:oe,d(t){t&&r(e)}}}function Ht(n){let e,l=n[29].description+"",t;return{c(){e=v("p"),t=P(l),this.h()},l(s){e=h(s,"P",{class:!0});var o=b(e);t=N(o,l),o.forEach(r),this.h()},h(){c(e,"class","text-sm text-base-content/70 line-clamp-2 mt-1")},m(s,o){S(s,e,o),a(e,t)},p(s,o){o[0]&256&&l!==(l=s[29].description+"")&&U(t,l)},d(s){s&&r(e)}}}function Lt(n){let e,l,t,s,o,i=n[29].location+"",f;return{c(){e=v("div"),l=st("svg"),t=st("path"),s=st("path"),o=D(),f=P(i),this.h()},l(d){e=h(d,"DIV",{class:!0});var p=b(e);l=lt(p,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0});var k=b(l);t=lt(k,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),b(t).forEach(r),s=lt(k,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),b(s).forEach(r),k.forEach(r),o=E(p),f=N(p,i),p.forEach(r),this.h()},h(){c(t,"stroke-linecap","round"),c(t,"stroke-linejoin","round"),c(t,"stroke-width","2"),c(t,"d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"),c(s,"stroke-linecap","round"),c(s,"stroke-linejoin","round"),c(s,"stroke-width","2"),c(s,"d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"),c(l,"xmlns","http://www.w3.org/2000/svg"),c(l,"class","h-4 w-4"),c(l,"fill","none"),c(l,"viewBox","0 0 24 24"),c(l,"stroke","currentColor"),c(e,"class","flex items-center gap-1 text-sm text-base-content/60 mt-2")},m(d,p){S(d,e,p),a(e,l),a(l,t),a(l,s),a(e,o),a(e,f)},p(d,p){p[0]&256&&i!==(i=d[29].location+"")&&U(f,i)},d(d){d&&r(e)}}}function Nt(n,e){let l,t,s,o,i,f=e[29].title+"",d,p,k,_,y,m=new Date(e[29].start*1e3).toLocaleDateString()+"",w,A,M,X=new Date(e[29].start*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})+"",Y,T,ce,$,x,C=e[7]==="full"&&e[29].description&&Ht(e),V=e[7]==="full"&&e[29].location&&Lt(e);function Z(){return e[24](e[29])}function ee(...q){return e[25](e[29],...q)}return{key:n,first:null,c(){l=v("div"),t=v("div"),s=v("div"),o=v("div"),i=v("h3"),d=P(f),p=D(),C&&C.c(),k=D(),_=v("div"),y=v("div"),w=P(m),A=D(),M=v("div"),Y=P(X),T=D(),V&&V.c(),ce=D(),this.h()},l(q){l=h(q,"DIV",{class:!0,role:!0,tabindex:!0});var B=b(l);t=h(B,"DIV",{class:!0});var K=b(t);s=h(K,"DIV",{class:!0});var ne=b(s);o=h(ne,"DIV",{});var J=b(o);i=h(J,"H3",{class:!0});var g=b(i);d=N(g,f),g.forEach(r),p=E(J),C&&C.l(J),J.forEach(r),k=E(ne),_=h(ne,"DIV",{class:!0});var I=b(_);y=h(I,"DIV",{class:!0});var te=b(y);w=N(te,m),te.forEach(r),A=E(I),M=h(I,"DIV",{class:!0});var de=b(M);Y=N(de,X),de.forEach(r),I.forEach(r),ne.forEach(r),T=E(K),V&&V.l(K),K.forEach(r),ce=E(B),B.forEach(r),this.h()},h(){c(i,"class","font-bold"),c(y,"class","font-medium"),c(M,"class","text-base-content/60"),c(_,"class","text-right text-sm"),c(s,"class","flex items-start justify-between"),c(t,"class","card-body p-4"),c(l,"class","card bg-base-200 hover:bg-base-300 cursor-pointer transition-colors"),c(l,"role","button"),c(l,"tabindex","0"),this.first=l},m(q,B){S(q,l,B),a(l,t),a(t,s),a(s,o),a(o,i),a(i,d),a(o,p),C&&C.m(o,null),a(s,k),a(s,_),a(_,y),a(y,w),a(_,A),a(_,M),a(M,Y),a(t,T),V&&V.m(t,null),a(l,ce),$||(x=[je(l,"click",Z),je(l,"keydown",ee)],$=!0)},p(q,B){e=q,B[0]&256&&f!==(f=e[29].title+"")&&U(d,f),e[7]==="full"&&e[29].description?C?C.p(e,B):(C=Ht(e),C.c(),C.m(o,null)):C&&(C.d(1),C=null),B[0]&256&&m!==(m=new Date(e[29].start*1e3).toLocaleDateString()+"")&&U(w,m),B[0]&256&&X!==(X=new Date(e[29].start*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})+"")&&U(Y,X),e[7]==="full"&&e[29].location?V?V.p(e,B):(V=Lt(e),V.c(),V.m(t,null)):V&&(V.d(1),V=null)},d(q){q&&r(l),C&&C.d(),V&&V.d(),$=!1,xt(x)}}}function Cl(n){let e,l,t,s,o,i,f,d,p,k,_,y,m,w,A,M,X='<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>',Y,T,ce='<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 10h16M4 14h16M4 18h16"></path></svg>',$,x,C,V,Z,ee,q="Section Calendars",B,K,ne,J,g,I,te="Event Stats",de,fe,ue,me,it="Total Events",We,ye,Me=n[0].length+"",Ae,Ye,he,pe,rt="Upcoming",Je,we,Te=n[0].filter(n[23]).length+"",Be,Ze,Ce,le,be,ot="Access Level",Ge,ge,Qe,Xe,ke,G,Q,ae,$e,ct;document.title=e=(n[2]?.name||"Section")+" Calendar - "+n[11].name,s=new dl({props:{items:n[10]}});function dt(u,j){return u[2]?hl:ul}let He=dt(n),se=He(n),z=n[2]&&Mt(n),F=n[7]==="availability"&&Tt(),Ee=Se(n[9]),H=[];for(let u=0;u<Ee.length;u+=1)H[u]=At(Vt(n,Ee,u));function ft(u,j){return u[7]==="full"?ml:u[7]==="availability"?_l:vl}let Le=ft(n),ie=Le(n),O=n[2]?.calendar?.canCreate&&n[7]==="full"&&Bt();const ut=[kl,gl,bl,pl],ve=[];function ht(u,j){return u[4]?0:u[5]?1:u[6]==="calendar"?2:3}return G=ht(n),Q=ve[G]=ut[G](n),{c(){l=D(),t=v("div"),Ut(s.$$.fragment),o=D(),i=v("div"),f=v("div"),d=v("div"),p=v("h1"),se.c(),k=D(),_=v("p"),z&&z.c(),y=D(),F&&F.c(),m=D(),w=v("div"),A=v("div"),M=v("button"),M.innerHTML=X,Y=D(),T=v("button"),T.innerHTML=ce,$=D(),x=v("div"),C=v("div"),V=v("div"),Z=v("div"),ee=v("h3"),ee.textContent=q,B=D(),K=v("div");for(let u=0;u<H.length;u+=1)H[u].c();ne=D(),J=v("div"),g=v("div"),I=v("h3"),I.textContent=te,de=D(),fe=v("div"),ue=v("div"),me=v("span"),me.textContent=it,We=D(),ye=v("span"),Ae=P(Me),Ye=D(),he=v("div"),pe=v("span"),pe.textContent=rt,Je=D(),we=v("span"),Be=P(Te),Ze=D(),Ce=v("div"),le=v("div"),be=v("h3"),be.textContent=ot,Ge=D(),ge=v("div"),ie.c(),Qe=D(),O&&O.c(),Xe=D(),ke=v("div"),Q.c(),this.h()},l(u){Kt("svelte-10ezbsk",document.head).forEach(r),l=E(u),t=h(u,"DIV",{class:!0});var R=b(t);Ot(s.$$.fragment,R),o=E(R),i=h(R,"DIV",{class:!0});var De=b(i);f=h(De,"DIV",{class:!0});var L=b(f);d=h(L,"DIV",{});var re=b(d);p=h(re,"H1",{class:!0});var vt=b(p);se.l(vt),vt.forEach(r),k=E(re),_=h(re,"P",{class:!0});var _t=b(_);z&&z.l(_t),_t.forEach(r),y=E(re),F&&F.l(re),re.forEach(r),m=E(L),w=h(L,"DIV",{class:!0});var mt=b(w);A=h(mt,"DIV",{class:!0});var Ne=b(A);M=h(Ne,"BUTTON",{class:!0,"data-svelte-h":!0}),W(M)!=="svelte-tp0013"&&(M.innerHTML=X),Y=E(Ne),T=h(Ne,"BUTTON",{class:!0,"data-svelte-h":!0}),W(T)!=="svelte-10jy0eo"&&(T.innerHTML=ce),Ne.forEach(r),mt.forEach(r),L.forEach(r),De.forEach(r),$=E(R),x=h(R,"DIV",{class:!0});var Pe=b(x);C=h(Pe,"DIV",{class:!0});var Ie=b(C);V=h(Ie,"DIV",{class:!0});var pt=b(V);Z=h(pt,"DIV",{class:!0});var xe=b(Z);ee=h(xe,"H3",{class:!0,"data-svelte-h":!0}),W(ee)!=="svelte-1yiuxsb"&&(ee.textContent=q),B=E(xe),K=h(xe,"DIV",{class:!0});var bt=b(K);for(let et=0;et<H.length;et+=1)H[et].l(bt);bt.forEach(r),xe.forEach(r),pt.forEach(r),ne=E(Ie),J=h(Ie,"DIV",{class:!0});var gt=b(J);g=h(gt,"DIV",{class:!0});var ze=b(g);I=h(ze,"H3",{class:!0,"data-svelte-h":!0}),W(I)!=="svelte-x8lsnc"&&(I.textContent=te),de=E(ze),fe=h(ze,"DIV",{class:!0});var Fe=b(fe);ue=h(Fe,"DIV",{class:!0});var Oe=b(ue);me=h(Oe,"SPAN",{class:!0,"data-svelte-h":!0}),W(me)!=="svelte-1x6ky2e"&&(me.textContent=it),We=E(Oe),ye=h(Oe,"SPAN",{class:!0});var kt=b(ye);Ae=N(kt,Me),kt.forEach(r),Oe.forEach(r),Ye=E(Fe),he=h(Fe,"DIV",{class:!0});var Ue=b(he);pe=h(Ue,"SPAN",{class:!0,"data-svelte-h":!0}),W(pe)!=="svelte-m3dfw9"&&(pe.textContent=rt),Je=E(Ue),we=h(Ue,"SPAN",{class:!0});var yt=b(we);Be=N(yt,Te),yt.forEach(r),Ue.forEach(r),Fe.forEach(r),ze.forEach(r),gt.forEach(r),Ze=E(Ie),Ce=h(Ie,"DIV",{class:!0});var wt=b(Ce);le=h(wt,"DIV",{class:!0});var Ve=b(le);be=h(Ve,"H3",{class:!0,"data-svelte-h":!0}),W(be)!=="svelte-y3jzhl"&&(be.textContent=ot),Ge=E(Ve),ge=h(Ve,"DIV",{class:!0});var Ct=b(ge);ie.l(Ct),Ct.forEach(r),Qe=E(Ve),O&&O.l(Ve),Ve.forEach(r),wt.forEach(r),Ie.forEach(r),Xe=E(Pe),ke=h(Pe,"DIV",{class:!0});var Et=b(ke);Q.l(Et),Et.forEach(r),Pe.forEach(r),R.forEach(r),this.h()},h(){c(p,"class","text-3xl font-bold mb-2"),c(_,"class","text-base-content/70"),c(M,"class","btn btn-sm"),_e(M,"btn-active",n[6]==="calendar"),c(T,"class","btn btn-sm"),_e(T,"btn-active",n[6]==="list"),c(A,"class","btn-group"),c(w,"class","flex items-center gap-2"),c(f,"class","flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4"),c(i,"class","mt-6 mb-6"),c(ee,"class","font-bold text-sm mb-3"),c(K,"class","space-y-2"),c(Z,"class","card-body p-4"),c(V,"class","card bg-base-200 shadow-lg"),c(I,"class","font-bold text-sm mb-3"),c(me,"class","text-base-content/60"),c(ye,"class","font-medium"),c(ue,"class","flex justify-between"),c(pe,"class","text-base-content/60"),c(we,"class","font-medium"),c(he,"class","flex justify-between"),c(fe,"class","space-y-2 text-sm"),c(g,"class","card-body p-4"),c(J,"class","card bg-base-200 shadow-lg"),c(be,"class","font-bold text-sm mb-3"),c(ge,"class","flex items-center gap-2"),c(le,"class","card-body p-4"),c(Ce,"class","card bg-base-200 shadow-lg"),c(C,"class","lg:w-64 space-y-4"),c(ke,"class","flex-1"),c(x,"class","flex flex-col lg:flex-row gap-6"),c(t,"class","container mx-auto p-4 max-w-6xl")},m(u,j){S(u,l,j),S(u,t,j),Ft(s,t,null),a(t,o),a(t,i),a(i,f),a(f,d),a(d,p),se.m(p,null),a(d,k),a(d,_),z&&z.m(_,null),a(d,y),F&&F.m(d,null),a(f,m),a(f,w),a(w,A),a(A,M),a(A,Y),a(A,T),a(t,$),a(t,x),a(x,C),a(C,V),a(V,Z),a(Z,ee),a(Z,B),a(Z,K);for(let R=0;R<H.length;R+=1)H[R]&&H[R].m(K,null);a(C,ne),a(C,J),a(J,g),a(g,I),a(g,de),a(g,fe),a(fe,ue),a(ue,me),a(ue,We),a(ue,ye),a(ye,Ae),a(fe,Ye),a(fe,he),a(he,pe),a(he,Je),a(he,we),a(we,Be),a(C,Ze),a(C,Ce),a(Ce,le),a(le,be),a(le,Ge),a(le,ge),ie.m(ge,null),a(le,Qe),O&&O.m(le,null),a(x,Xe),a(x,ke),ve[G].m(ke,null),ae=!0,$e||(ct=[je(M,"click",n[20]),je(T,"click",n[21])],$e=!0)},p(u,j){(!ae||j[0]&2052)&&e!==(e=(u[2]?.name||"Section")+" Calendar - "+u[11].name)&&(document.title=e);const R={};if(j[0]&1024&&(R.items=u[10]),s.$set(R),He===(He=dt(u))&&se?se.p(u,j):(se.d(1),se=He(u),se&&(se.c(),se.m(p,null))),u[2]?z?z.p(u,j):(z=Mt(u),z.c(),z.m(_,null)):z&&(z.d(1),z=null),u[7]==="availability"?F||(F=Tt(),F.c(),F.m(d,null)):F&&(F.d(1),F=null),(!ae||j[0]&64)&&_e(M,"btn-active",u[6]==="calendar"),(!ae||j[0]&64)&&_e(T,"btn-active",u[6]==="list"),j[0]&16898){Ee=Se(u[9]);let L;for(L=0;L<Ee.length;L+=1){const re=Vt(u,Ee,L);H[L]?H[L].p(re,j):(H[L]=At(re),H[L].c(),H[L].m(K,null))}for(;L<H.length;L+=1)H[L].d(1);H.length=Ee.length}(!ae||j[0]&1)&&Me!==(Me=u[0].length+"")&&U(Ae,Me),(!ae||j[0]&1)&&Te!==(Te=u[0].filter(u[23]).length+"")&&U(Be,Te),Le!==(Le=ft(u))&&(ie.d(1),ie=Le(u),ie&&(ie.c(),ie.m(ge,null))),u[2]?.calendar?.canCreate&&u[7]==="full"?O||(O=Bt(),O.c(),O.m(le,null)):O&&(O.d(1),O=null);let De=G;G=ht(u),G===De?ve[G].p(u,j):(Zt(),qe(ve[De],1,1,()=>{ve[De]=null}),Jt(),Q=ve[G],Q?Q.p(u,j):(Q=ve[G]=ut[G](u),Q.c()),Ke(Q,1),Q.m(ke,null))},i(u){ae||(Ke(s.$$.fragment,u),Ke(Q),ae=!0)},o(u){qe(s.$$.fragment,u),qe(Q),ae=!1},d(u){u&&(r(l),r(t)),zt(s),se.d(),z&&z.d(),F&&F.d(),Pt(H,u),ie.d(),O&&O.d(),ve[G].d(),$e=!1,xt(ct)}}}function El(n){}function Dl(n,e,l){let t,s,o,i,f,d,p,k,_,y,m,w;tt(n,al,g=>l(18,y=g)),tt(n,Dt,g=>l(27,m=g)),tt(n,Xt,g=>l(19,w=g));const A=$t();let M=[],X=[],Y=!0,T=null,ce=new Date,$="calendar",x="none";Rt(async()=>{if(await Dt.waitForReady(),await nl(),!m.isAuthenticated||!m.publicKey){nt(`${at}/`);return}if(!i||!f){l(5,T=`Section "${s}" not found`),l(4,Y=!1);return}if(l(7,x=il(p,s)),x==="none"){l(5,T="You do not have access to this section calendar"),l(4,Y=!1);return}try{await sl(m);const g=await rl(s);let I=[];if((s==="minimoonoir-events"||s==="community-rooms")&&m.publicKey&&(I=await ol(m.publicKey)),l(0,M=[...g,...I].sort((te,de)=>te.start-de.start)),y)try{const te=[...g,...I];l(3,X=cl(s,te,y))}catch(te){console.warn("Failed to load cross-zone blocks:",te)}}catch(g){console.error("Failed to load section events:",g),l(5,T=g instanceof Error?g.message:"Failed to load events")}finally{l(4,Y=!1)}});function C(g){const I=g.detail;"messageId"in I&&I.messageId&&nt(`${at}/chat?channel=${I.channelId}&message=${I.messageId}`)}function V(g,I){nt(`${at}/${g}/${I}/calendar`)}function Z(g){return x==="availability"&&!("id"in g&&g.id.startsWith("birthday-"))?{...g,title:"Event (Details Hidden)",description:"",location:void 0}:g}const ee=()=>l(6,$="calendar"),q=()=>l(6,$="list"),B=(g,I)=>V(g.id,I.id),K=g=>g.start>Date.now()/1e3,ne=g=>C(new CustomEvent("click",{detail:g})),J=(g,I)=>I.key==="Enter"&&C(new CustomEvent("click",{detail:g}));return n.$$.update=()=>{n.$$.dirty[0]&524288&&l(16,t=w.params.category),n.$$.dirty[0]&524288&&l(1,s=w.params.section),n.$$.dirty[0]&2&&l(17,o=el(s)),n.$$.dirty[0]&131072&&l(2,i=o?.section),n.$$.dirty[0]&131072&&l(15,f=o?.category),n.$$.dirty[0]&98310&&l(10,d=i&&f?[...tl(t,s),{label:"Calendar",path:`/${t}/${s}/calendar`}]:[]),n.$$.dirty[0]&262144&&(p=y?.cohorts||[]),n.$$.dirty[0]&1&&l(8,_=M.map(Z))},l(9,k=ll()),[M,s,i,X,Y,T,$,x,_,k,d,A,ce,C,V,f,t,o,y,w,ee,q,B,K,ne,J]}class zl extends Wt{constructor(e){super(),Yt(this,e,Dl,Cl,qt,{},null,[-1,-1])}}export{zl as component};
