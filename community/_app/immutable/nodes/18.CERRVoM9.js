import{s as xe,n as X,d as h,a as Q,l as d,i as T,b as c,c as _,e as b,g as $,f as U,o as re,h as g,j as I,t as q,w as ue,z as Ae,m as Fe,k as me,p as He,x as ye}from"../chunks/0ZVSoAEn.js";import{S as Se,i as Me,d as te,t as W,a as K,c as Te,m as se,b as le,e as ae,g as Pe}from"../chunks/DKVmOqaf.js";import{e as he,u as Le,o as je}from"../chunks/m0NROLOn.js";import{g as Ne}from"../chunks/CTVLmyHZ.js";import{b as Z}from"../chunks/xKPZ-4ZK.js";import{a as ke,g as Ue}from"../chunks/DxD0Wn3l.js";import{w as qe,u as Be,p as Re}from"../chunks/Cufo8aq4.js";import{g as ze}from"../chunks/D31DSQKd.js";import{W as Ge,B as We,T as Ke,a as Je,M as Oe}from"../chunks/CsHxksVb.js";function we(n,e,t){const s=n.slice();return s[7]=e[t],s}function $e(n){let e,t,s,o,l;return{c(){e=g("figure"),t=g("img"),o=I(),l=g("div"),this.h()},l(i){e=_(i,"FIGURE",{class:!0});var a=b(e);t=_(a,"IMG",{src:!0,alt:!0,class:!0,loading:!0}),o=$(a),l=_(a,"DIV",{class:!0}),b(l).forEach(h),a.forEach(h),this.h()},h(){ue(t.src,s=""+(Z+n[3]))||d(t,"src",s),d(t,"alt",n[1]),d(t,"class","w-full h-full object-cover"),d(t,"loading","lazy"),d(l,"class","absolute inset-0 bg-gradient-to-t from-base-100 to-transparent"),d(e,"class","relative h-32")},m(i,a){T(i,e,a),c(e,t),c(e,o),c(e,l)},p(i,a){a&8&&!ue(t.src,s=""+(Z+i[3]))&&d(t,"src",s),a&2&&d(t,"alt",i[1])},d(i){i&&h(e)}}}function Qe(n){let e,t=n[0].icon+"",s,o;return{c(){e=g("div"),s=q(t),this.h()},l(l){e=_(l,"DIV",{class:!0});var i=b(e);s=U(i,t),i.forEach(h),this.h()},h(){d(e,"class",o="text-5xl "+(n[3]?"-mt-8 bg-base-100 rounded-lg p-1 shadow-lg":""))},m(l,i){T(l,e,i),c(e,s)},p(l,i){i&1&&t!==(t=l[0].icon+"")&&Q(s,t),i&8&&o!==(o="text-5xl "+(l[3]?"-mt-8 bg-base-100 rounded-lg p-1 shadow-lg":""))&&d(e,"class",o)},d(l){l&&h(e)}}}function Xe(n){let e,t,s,o;return{c(){e=g("img"),this.h()},l(l){e=_(l,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){ue(e.src,t=""+(Z+n[2]))||d(e,"src",t),d(e,"alt",s=n[1]+" logo"),d(e,"class",o="w-12 h-12 rounded-lg object-cover bg-base-200 "+(n[3]?"-mt-8 shadow-lg border-2 border-base-100":""))},m(l,i){T(l,e,i)},p(l,i){i&4&&!ue(e.src,t=""+(Z+l[2]))&&d(e,"src",t),i&2&&s!==(s=l[1]+" logo")&&d(e,"alt",s),i&8&&o!==(o="w-12 h-12 rounded-lg object-cover bg-base-200 "+(l[3]?"-mt-8 shadow-lg border-2 border-base-100":""))&&d(e,"class",o)},d(l){l&&h(e)}}}function Ie(n){let e,t,s="Sections:",o,l,i,a=he(n[0].sections.slice(0,4)),r=[];for(let m=0;m<a.length;m+=1)r[m]=Ee(we(n,a,m));let f=n[0].sections.length>4&&De(n);return{c(){e=g("div"),t=g("div"),t.textContent=s,o=I(),l=g("div");for(let m=0;m<r.length;m+=1)r[m].c();i=I(),f&&f.c(),this.h()},l(m){e=_(m,"DIV",{class:!0});var w=b(e);t=_(w,"DIV",{class:!0,"data-svelte-h":!0}),re(t)!=="svelte-1vfnuy9"&&(t.textContent=s),o=$(w),l=_(w,"DIV",{class:!0});var u=b(l);for(let k=0;k<r.length;k+=1)r[k].l(u);i=$(u),f&&f.l(u),u.forEach(h),w.forEach(h),this.h()},h(){d(t,"class","text-xs text-base-content/60 uppercase font-semibold"),d(l,"class","flex flex-wrap gap-1"),d(e,"class","mt-3 space-y-1")},m(m,w){T(m,e,w),c(e,t),c(e,o),c(e,l);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(l,null);c(l,i),f&&f.m(l,null)},p(m,w){if(w&1){a=he(m[0].sections.slice(0,4));let u;for(u=0;u<a.length;u+=1){const k=we(m,a,u);r[u]?r[u].p(k,w):(r[u]=Ee(k),r[u].c(),r[u].m(l,i))}for(;u<r.length;u+=1)r[u].d(1);r.length=a.length}m[0].sections.length>4?f?f.p(m,w):(f=De(m),f.c(),f.m(l,null)):f&&(f.d(1),f=null)},d(m){m&&h(e),Ae(r,m),f&&f.d()}}}function Ee(n){let e,t=n[7].icon+"",s,o,l=n[7].name+"",i;return{c(){e=g("span"),s=q(t),o=I(),i=q(l),this.h()},l(a){e=_(a,"SPAN",{class:!0});var r=b(e);s=U(r,t),o=$(r),i=U(r,l),r.forEach(h),this.h()},h(){d(e,"class","badge badge-outline badge-sm")},m(a,r){T(a,e,r),c(e,s),c(e,o),c(e,i)},p(a,r){r&1&&t!==(t=a[7].icon+"")&&Q(s,t),r&1&&l!==(l=a[7].name+"")&&Q(i,l)},d(a){a&&h(e)}}}function De(n){let e,t,s=n[0].sections.length-4+"",o,l;return{c(){e=g("span"),t=q("+"),o=q(s),l=q(" more"),this.h()},l(i){e=_(i,"SPAN",{class:!0});var a=b(e);t=U(a,"+"),o=U(a,s),l=U(a," more"),a.forEach(h),this.h()},h(){d(e,"class","badge badge-ghost badge-sm")},m(i,a){T(i,e,a),c(e,t),c(e,o),c(e,l)},p(i,a){a&1&&s!==(s=i[0].sections.length-4+"")&&Q(o,s)},d(i){i&&h(e)}}}function Ye(n){let e,t,s,o,l,i,a,r,f,m,w=n[0].description+"",u,k,B,D,V,P,M,J,A,F,j="Sections",R,N,S,Y,v,C,H="Forums",ee,z,G,p=n[3]&&$e(n);function _e(y,E){return y[2]?Xe:Qe}let ie=_e(n),L=ie(n),x=n[0].sections&&n[0].sections.length>0&&Ie(n);return{c(){e=g("a"),p&&p.c(),t=I(),s=g("div"),o=g("div"),L.c(),l=I(),i=g("div"),a=g("h2"),r=q(n[1]),f=I(),m=g("p"),u=q(w),k=I(),B=g("div"),D=I(),V=g("div"),P=g("div"),M=g("div"),J=q(n[5]),A=I(),F=g("div"),F.textContent=j,R=I(),N=g("div"),S=g("div"),Y=q(n[4]),v=I(),C=g("div"),C.textContent=H,ee=I(),x&&x.c(),this.h()},l(y){e=_(y,"A",{href:!0,class:!0});var E=b(e);p&&p.l(E),t=$(E),s=_(E,"DIV",{class:!0});var O=b(s);o=_(O,"DIV",{class:!0});var ne=b(o);L.l(ne),l=$(ne),i=_(ne,"DIV",{class:!0});var oe=b(i);a=_(oe,"H2",{class:!0});var ge=b(a);r=U(ge,n[1]),ge.forEach(h),f=$(oe),m=_(oe,"P",{class:!0});var ve=b(m);u=U(ve,w),ve.forEach(h),oe.forEach(h),ne.forEach(h),k=$(O),B=_(O,"DIV",{class:!0}),b(B).forEach(h),D=$(O),V=_(O,"DIV",{class:!0});var ce=b(V);P=_(ce,"DIV",{});var fe=b(P);M=_(fe,"DIV",{class:!0});var pe=b(M);J=U(pe,n[5]),pe.forEach(h),A=$(fe),F=_(fe,"DIV",{class:!0,"data-svelte-h":!0}),re(F)!=="svelte-v1czlg"&&(F.textContent=j),fe.forEach(h),R=$(ce),N=_(ce,"DIV",{});var de=b(N);S=_(de,"DIV",{class:!0});var be=b(S);Y=U(be,n[4]),be.forEach(h),v=$(de),C=_(de,"DIV",{class:!0,"data-svelte-h":!0}),re(C)!=="svelte-wxml5q"&&(C.textContent=H),de.forEach(h),ce.forEach(h),ee=$(O),x&&x.l(O),O.forEach(h),E.forEach(h),this.h()},h(){d(a,"class","card-title text-xl"),d(m,"class","text-sm text-base-content/70 mt-1"),d(i,"class","flex-1"),d(o,"class","flex items-start gap-4"),d(B,"class","divider my-2"),d(M,"class","text-2xl font-bold text-primary"),d(F,"class","text-xs text-base-content/60"),d(S,"class","text-2xl font-bold text-secondary"),d(C,"class","text-xs text-base-content/60"),d(V,"class","grid grid-cols-2 gap-4 text-center"),d(s,"class",z="card-body "+(n[3]?"pt-2":"")),d(e,"href",G=Z+"/"+n[0].id),d(e,"class","card bg-base-100 shadow-lg hover:shadow-xl transition-all hover:-translate-y-1 cursor-pointer overflow-hidden")},m(y,E){T(y,e,E),p&&p.m(e,null),c(e,t),c(e,s),c(s,o),L.m(o,null),c(o,l),c(o,i),c(i,a),c(a,r),c(i,f),c(i,m),c(m,u),c(s,k),c(s,B),c(s,D),c(s,V),c(V,P),c(P,M),c(M,J),c(P,A),c(P,F),c(V,R),c(V,N),c(N,S),c(S,Y),c(N,v),c(N,C),c(s,ee),x&&x.m(s,null)},p(y,[E]){y[3]?p?p.p(y,E):(p=$e(y),p.c(),p.m(e,t)):p&&(p.d(1),p=null),ie===(ie=_e(y))&&L?L.p(y,E):(L.d(1),L=ie(y),L&&(L.c(),L.m(o,l))),E&2&&Q(r,y[1]),E&1&&w!==(w=y[0].description+"")&&Q(u,w),E&32&&Q(J,y[5]),E&16&&Q(Y,y[4]),y[0].sections&&y[0].sections.length>0?x?x.p(y,E):(x=Ie(y),x.c(),x.m(s,null)):x&&(x.d(1),x=null),E&8&&z!==(z="card-body "+(y[3]?"pt-2":""))&&d(s,"class",z),E&1&&G!==(G=Z+"/"+y[0].id)&&d(e,"href",G)},i:X,o:X,d(y){y&&h(e),p&&p.d(),L.d(),x&&x.d()}}}function Ze(n,e,t){let s,o,l,i,a,{category:r}=e,{sectionStats:f={}}=e;return n.$$set=m=>{"category"in m&&t(0,r=m.category),"sectionStats"in m&&t(6,f=m.sectionStats)},n.$$.update=()=>{n.$$.dirty&1&&t(5,s=r.sections?.length??0),n.$$.dirty&65&&t(4,o=r.sections?.reduce((m,w)=>m+(f[w.id]?.channelCount??0),0)??0),n.$$.dirty&1&&t(3,l=r.branding?.heroImageUrl),n.$$.dirty&1&&t(2,i=r.branding?.logoUrl),n.$$.dirty&1&&t(1,a=r.branding?.displayName||r.name)},[r,a,i,l,o,s,f]}class et extends Se{constructor(e){super(),Me(this,e,Ze,Ye,xe,{category:0,sectionStats:6})}}function Ve(n,e,t){const s=n.slice();return s[6]=e[t],s}function tt(n){let e,t=[],s=new Map,o,l=he(n[2]);const i=a=>a[6].id;for(let a=0;a<l.length;a+=1){let r=Ve(n,l,a),f=i(r);s.set(f,t[a]=Ce(f,r))}return{c(){e=g("div");for(let a=0;a<t.length;a+=1)t[a].c();this.h()},l(a){e=_(a,"DIV",{class:!0});var r=b(e);for(let f=0;f<t.length;f+=1)t[f].l(r);r.forEach(h),this.h()},h(){d(e,"class","space-y-4")},m(a,r){T(a,e,r);for(let f=0;f<t.length;f+=1)t[f]&&t[f].m(e,null);o=!0},p(a,r){r&4&&(l=he(a[2]),Pe(),t=Le(t,r,i,1,a,l,s,e,je,Ce,null,Ve),Te())},i(a){if(!o){for(let r=0;r<l.length;r+=1)K(t[r]);o=!0}},o(a){for(let r=0;r<t.length;r+=1)W(t[r]);o=!1},d(a){a&&h(e);for(let r=0;r<t.length;r+=1)t[r].d()}}}function st(n){let e,t='<div class="card-body text-center"><div class="text-5xl mb-4">üìÅ</div> <h2 class="text-xl font-semibold">No categories available</h2> <p class="text-base-content/70">Check back later for new discussion areas.</p></div>';return{c(){e=g("div"),e.innerHTML=t,this.h()},l(s){e=_(s,"DIV",{class:!0,"data-svelte-h":!0}),re(e)!=="svelte-17mcf88"&&(e.innerHTML=t),this.h()},h(){d(e,"class","card bg-base-200")},m(s,o){T(s,e,o)},p:X,i:X,o:X,d(s){s&&h(e)}}}function lt(n){let e,t='<span class="loading loading-spinner loading-lg text-primary"></span>';return{c(){e=g("div"),e.innerHTML=t,this.h()},l(s){e=_(s,"DIV",{class:!0,"data-svelte-h":!0}),re(e)!=="svelte-1may4i2"&&(e.innerHTML=t),this.h()},h(){d(e,"class","flex justify-center items-center min-h-[200px]")},m(s,o){T(s,e,o)},p:X,i:X,o:X,d(s){s&&h(e)}}}function Ce(n,e){let t,s,o;return s=new et({props:{category:e[6]}}),{key:n,first:null,c(){t=ye(),ae(s.$$.fragment),this.h()},l(l){t=ye(),le(s.$$.fragment,l),this.h()},h(){this.first=t},m(l,i){T(l,t,i),se(s,l,i),o=!0},p(l,i){e=l;const a={};i&4&&(a.category=e[6]),s.$set(a)},i(l){o||(K(s.$$.fragment,l),o=!0)},o(l){W(s.$$.fragment,l),o=!1},d(l){l&&h(t),te(s,l)}}}function at(n){let e,t,s,o,l,i,a,r,f,m='<h1 class="text-4xl font-bold gradient-text mb-2">Forums</h1> <p class="text-base-content/70">Browse discussion categories</p>',w,u,k,B,D,V,P,M,J,A,F,j,R;document.title=e="Forums - "+n[1].name,l=new Ge({});const N=[lt,st,tt],S=[];function Y(v,C){return v[0]?0:v[2].length===0?1:2}return u=Y(n),k=S[u]=N[u](n),V=new We({}),M=new Ke({}),A=new Je({}),j=new Oe({}),{c(){t=I(),s=g("div"),o=g("div"),ae(l.$$.fragment),i=I(),a=g("div"),r=g("div"),f=g("div"),f.innerHTML=m,w=I(),k.c(),B=I(),D=g("div"),ae(V.$$.fragment),P=I(),ae(M.$$.fragment),J=I(),ae(A.$$.fragment),F=I(),ae(j.$$.fragment),this.h()},l(v){Fe("svelte-1s1qdf0",document.head).forEach(h),t=$(v),s=_(v,"DIV",{class:!0});var H=b(s);o=_(H,"DIV",{class:!0});var ee=b(o);le(l.$$.fragment,ee),ee.forEach(h),i=$(H),a=_(H,"DIV",{class:!0});var z=b(a);r=_(z,"DIV",{class:!0});var G=b(r);f=_(G,"DIV",{class:!0,"data-svelte-h":!0}),re(f)!=="svelte-1c1wneh"&&(f.innerHTML=m),w=$(G),k.l(G),G.forEach(h),B=$(z),D=_(z,"DIV",{class:!0});var p=b(D);le(V.$$.fragment,p),P=$(p),le(M.$$.fragment,p),J=$(p),le(A.$$.fragment,p),F=$(p),le(j.$$.fragment,p),p.forEach(h),z.forEach(h),H.forEach(h),this.h()},h(){d(o,"class","mb-4"),d(f,"class","mb-6"),d(r,"class","flex-1"),d(D,"class","lg:w-80 space-y-4"),d(a,"class","flex flex-col lg:flex-row gap-6"),d(s,"class","container mx-auto p-4 max-w-6xl")},m(v,C){T(v,t,C),T(v,s,C),c(s,o),se(l,o,null),c(s,i),c(s,a),c(a,r),c(r,f),c(r,w),S[u].m(r,null),c(a,B),c(a,D),se(V,D,null),c(D,P),se(M,D,null),c(D,J),se(A,D,null),c(D,F),se(j,D,null),R=!0},p(v,[C]){(!R||C&2)&&e!==(e="Forums - "+v[1].name)&&(document.title=e);let H=u;u=Y(v),u===H?S[u].p(v,C):(Pe(),W(S[H],1,1,()=>{S[H]=null}),Te(),k=S[u],k?k.p(v,C):(k=S[u]=N[u](v),k.c()),K(k,1),k.m(r,null))},i(v){R||(K(l.$$.fragment,v),K(k),K(V.$$.fragment,v),K(M.$$.fragment,v),K(A.$$.fragment,v),K(j.$$.fragment,v),R=!0)},o(v){W(l.$$.fragment,v),W(k),W(V.$$.fragment,v),W(M.$$.fragment,v),W(A.$$.fragment,v),W(j.$$.fragment,v),R=!1},d(v){v&&(h(t),h(s)),te(l),S[u].d(),te(V),te(M),te(A),te(j)}}}function rt(n,e,t){let s,o,l,i,a;me(n,ke,f=>t(5,l=f)),me(n,Be,f=>t(3,i=f)),me(n,Re,f=>t(4,a=f));let r=!0;return He(async()=>{if(await ke.waitForReady(),!l.isAuthenticated||!l.publicKey){Ne(`${Z}/`);return}await qe(),t(0,r=!1)}),n.$$.update=()=>{n.$$.dirty&24&&t(2,s=a&&i?ze(i):[])},t(1,o=Ue()),[r,o,s,i,a]}class _t extends Se{constructor(e){super(),Me(this,e,rt,at,xe,{})}}export{_t as component};
