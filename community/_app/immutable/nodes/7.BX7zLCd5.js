import{s as j,d as p,i as v,l as h,m as H,g as w,c as b,e as k,j as A,h as y,k as E,p as L,n as I,o as T,a as q,b as g,f as F,t as D}from"../chunks/0ZVSoAEn.js";import{S as K,i as N,t as B,a as C,c as R,d as W,m as Y,b as z,e as G,g as J}from"../chunks/DKVmOqaf.js";import{g as M}from"../chunks/CTVLmyHZ.js";import{b as S}from"../chunks/xKPZ-4ZK.js";import{p as O}from"../chunks/BdMR7A5I.js";import{g as Q,a as P,b as U,c as V}from"../chunks/DxD0Wn3l.js";import{w as X}from"../chunks/Cufo8aq4.js";import{a as Z}from"../chunks/D31DSQKd.js";import{B as $}from"../chunks/eGtfPii9.js";function x(i){let o,c,r,a,s,f,m,l,u,e;return o=new $({props:{items:V(i[3],i[0])}}),{c(){G(o.$$.fragment),c=A(),r=y("div"),a=y("span"),s=D(i[2]),f=A(),m=y("a"),l=D("Back to Section"),this.h()},l(t){z(o.$$.fragment,t),c=w(t),r=b(t,"DIV",{class:!0});var n=k(r);a=b(n,"SPAN",{});var d=k(a);s=F(d,i[2]),d.forEach(p),f=w(n),m=b(n,"A",{href:!0,class:!0});var _=k(m);l=F(_,"Back to Section"),_.forEach(p),n.forEach(p),this.h()},h(){h(m,"href",u=S+"/"+i[3]+"/"+i[0]),h(m,"class","btn btn-sm btn-ghost"),h(r,"class","alert alert-error mt-4")},m(t,n){Y(o,t,n),v(t,c,n),v(t,r,n),g(r,a),g(a,s),g(r,f),g(r,m),g(m,l),e=!0},p(t,n){const d={};n&9&&(d.items=V(t[3],t[0])),o.$set(d),(!e||n&4)&&q(s,t[2]),(!e||n&9&&u!==(u=S+"/"+t[3]+"/"+t[0]))&&h(m,"href",u)},i(t){e||(C(o.$$.fragment,t),e=!0)},o(t){B(o.$$.fragment,t),e=!1},d(t){t&&(p(c),p(r)),W(o,t)}}}function ee(i){let o,c='<span class="loading loading-spinner loading-lg text-primary"></span>';return{c(){o=y("div"),o.innerHTML=c,this.h()},l(r){o=b(r,"DIV",{class:!0,"data-svelte-h":!0}),T(o)!=="svelte-f5e84o"&&(o.innerHTML=c),this.h()},h(){h(o,"class","flex justify-center items-center min-h-[400px]")},m(r,a){v(r,o,a)},p:I,i:I,o:I,d(r){r&&p(o)}}}function te(i){let o,c,r,a,s,f;document.title=o="Forum - "+i[4].name;const m=[ee,x],l=[];function u(e,t){return e[1]?0:e[2]?1:-1}return~(a=u(i))&&(s=l[a]=m[a](i)),{c(){c=A(),r=y("div"),s&&s.c(),this.h()},l(e){H("svelte-1fea6eh",document.head).forEach(p),c=w(e),r=b(e,"DIV",{class:!0});var n=k(r);s&&s.l(n),n.forEach(p),this.h()},h(){h(r,"class","container mx-auto p-4 max-w-6xl")},m(e,t){v(e,c,t),v(e,r,t),~a&&l[a].m(r,null),f=!0},p(e,[t]){(!f||t&16)&&o!==(o="Forum - "+e[4].name)&&(document.title=o);let n=a;a=u(e),a===n?~a&&l[a].p(e,t):(s&&(J(),B(l[n],1,1,()=>{l[n]=null}),R()),~a?(s=l[a],s?s.p(e,t):(s=l[a]=m[a](e),s.c()),C(s,1),s.m(r,null)):s=null)},i(e){f||(C(s),f=!0)},o(e){B(s),f=!1},d(e){e&&(p(c),p(r)),~a&&l[a].d()}}}function ae(i,o,c){let r,a,s,f,m,l,u,e;E(i,P,_=>c(10,u=_)),E(i,O,_=>c(6,e=_));const t=Q();let n=!0,d=null;return L(async()=>{if(await P.waitForReady(),!u.isAuthenticated||!u.publicKey){M(`${S}/`);return}if(!m||!l){c(2,d=`Section "${a}" not found`),c(1,n=!1);return}const _=await X();if(_&&!Z(_,a)){c(2,d="You do not have access to this section"),c(1,n=!1);return}M(`${S}/chat/${s}`)}),i.$$.update=()=>{i.$$.dirty&64&&c(3,r=e.params.category),i.$$.dirty&64&&c(0,a=e.params.section),i.$$.dirty&64&&(s=e.params.forumId),i.$$.dirty&1&&c(5,f=U(a)),i.$$.dirty&32&&(m=f?.section),i.$$.dirty&32&&(l=f?.category)},[a,n,d,r,t,f,e]}class ue extends K{constructor(o){super(),N(this,o,ae,te,j,{})}}export{ue as component};
