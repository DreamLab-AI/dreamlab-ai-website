import{s as Ot,d as f,a as Y,i as $,b as e,q as xt,l as h,m as Ut,g as D,c,e as m,o as Q,f as W,x as yt,j as C,h as v,t as K,k as At,p as Rt,n as _t,z as zt,r as Ft}from"../chunks/0ZVSoAEn.js";import{S as Wt,i as Kt,t as It,a as Vt,c as Qt,d as Gt,m as Jt,b as Xt,e as Yt,g as Zt}from"../chunks/DKVmOqaf.js";import{e as Dt}from"../chunks/m0NROLOn.js";import{g as Et}from"../chunks/CTVLmyHZ.js";import{b as kt}from"../chunks/xKPZ-4ZK.js";import{g as $t,a as Tt,e as te}from"../chunks/DxD0Wn3l.js";import{isAdminVerified as ee}from"../chunks/CF3XGpNG.js";import{f as le}from"../chunks/6gyHFm-e.js";import{f as se}from"../chunks/BqFahvin.js";import{E as ae}from"../chunks/BJb07stM.js";function Mt(n,t,l){const s=n.slice();return s[17]=t[l][0],s[18]=t[l][1],s}function jt(n,t,l){const s=n.slice();return s[21]=t[l],s}function ne(n){let t,l,s,i,a,o,r,d,u="Upcoming This Week",x,A,k,E,w,tt="Events by Channel",G,j,q,H,p=`<div class="card-body p-4"><h3 class="font-bold text-lg text-primary mb-3">Quick Actions</h3> <div class="space-y-2"><a href="${kt}/events" class="btn btn-sm btn-block btn-ghost justify-start"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
                Public Events Page</a> <a href="${kt}/admin" class="btn btn-sm btn-block btn-ghost justify-start"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
                Admin Dashboard</a></div></div>`,I;s=new ae({props:{events:n[0],currentDate:n[8]}}),s.$on("eventClick",n[10]);function T(g,N){return g[5].length===0?de:re}let J=T(n),S=J(n),z=Dt(Object.entries(n[6])),M=[];for(let g=0;g<z.length;g+=1)M[g]=Ht(Mt(n,z,g));return{c(){t=v("div"),l=v("div"),Yt(s.$$.fragment),i=C(),a=v("div"),o=v("div"),r=v("div"),d=v("h3"),d.textContent=u,x=C(),S.c(),A=C(),k=v("div"),E=v("div"),w=v("h3"),w.textContent=tt,G=C(),j=v("div");for(let g=0;g<M.length;g+=1)M[g].c();q=C(),H=v("div"),H.innerHTML=p,this.h()},l(g){t=c(g,"DIV",{class:!0});var N=m(t);l=c(N,"DIV",{class:!0});var B=m(l);Xt(s.$$.fragment,B),B.forEach(f),i=D(N),a=c(N,"DIV",{class:!0});var y=m(a);o=c(y,"DIV",{class:!0});var st=m(o);r=c(st,"DIV",{class:!0});var Z=m(r);d=c(Z,"H3",{class:!0,"data-svelte-h":!0}),Q(d)!=="svelte-198ofky"&&(d.textContent=u),x=D(Z),S.l(Z),Z.forEach(f),st.forEach(f),A=D(y),k=c(y,"DIV",{class:!0});var et=m(k);E=c(et,"DIV",{class:!0});var lt=m(E);w=c(lt,"H3",{class:!0,"data-svelte-h":!0}),Q(w)!=="svelte-1fkkipl"&&(w.textContent=tt),G=D(lt),j=c(lt,"DIV",{class:!0});var at=m(j);for(let nt=0;nt<M.length;nt+=1)M[nt].l(at);at.forEach(f),lt.forEach(f),et.forEach(f),q=D(y),H=c(y,"DIV",{class:!0,"data-svelte-h":!0}),Q(H)!=="svelte-1r0qfrb"&&(H.innerHTML=p),y.forEach(f),N.forEach(f),this.h()},h(){h(l,"class","xl:col-span-2"),h(d,"class","font-bold text-lg text-primary mb-3"),h(r,"class","card-body p-4"),h(o,"class","card bg-base-200 shadow-lg"),h(w,"class","font-bold text-lg text-primary mb-3"),h(j,"class","space-y-3"),h(E,"class","card-body p-4"),h(k,"class","card bg-base-200 shadow-lg"),h(H,"class","card bg-base-200 shadow-lg"),h(a,"class","order-last xl:order-first space-y-4"),h(t,"class","grid grid-cols-1 xl:grid-cols-3 gap-6")},m(g,N){$(g,t,N),e(t,l),Jt(s,l,null),e(t,i),e(t,a),e(a,o),e(o,r),e(r,d),e(r,x),S.m(r,null),e(a,A),e(a,k),e(k,E),e(E,w),e(E,G),e(E,j);for(let B=0;B<M.length;B+=1)M[B]&&M[B].m(j,null);e(a,q),e(a,H),I=!0},p(g,N){const B={};if(N&1&&(B.events=g[0]),s.$set(B),J===(J=T(g))&&S?S.p(g,N):(S.d(1),S=J(g),S&&(S.c(),S.m(r,null))),N&576){z=Dt(Object.entries(g[6]));let y;for(y=0;y<z.length;y+=1){const st=Mt(g,z,y);M[y]?M[y].p(st,N):(M[y]=Ht(st),M[y].c(),M[y].m(j,null))}for(;y<M.length;y+=1)M[y].d(1);M.length=z.length}},i(g){I||(Vt(s.$$.fragment,g),I=!0)},o(g){It(s.$$.fragment,g),I=!1},d(g){g&&f(t),Gt(s),S.d(),zt(M,g)}}}function ie(n){let t,l,s;return{c(){t=v("div"),l=v("span"),s=K(n[3]),this.h()},l(i){t=c(i,"DIV",{class:!0});var a=m(t);l=c(a,"SPAN",{});var o=m(l);s=W(o,n[3]),o.forEach(f),a.forEach(f),this.h()},h(){h(t,"class","alert alert-error")},m(i,a){$(i,t,a),e(t,l),e(l,s)},p(i,a){a&8&&Y(s,i[3])},i:_t,o:_t,d(i){i&&f(t)}}}function oe(n){let t,l='<span class="loading loading-spinner loading-lg text-primary"></span>';return{c(){t=v("div"),t.innerHTML=l,this.h()},l(s){t=c(s,"DIV",{class:!0,"data-svelte-h":!0}),Q(t)!=="svelte-f5e84o"&&(t.innerHTML=l),this.h()},h(){h(t,"class","flex justify-center items-center min-h-[400px]")},m(s,i){$(s,t,i)},p:_t,i:_t,o:_t,d(s){s&&f(t)}}}function re(n){let t,l=Dt(n[5]),s=[];for(let i=0;i<l.length;i+=1)s[i]=Bt(jt(n,l,i));return{c(){t=v("div");for(let i=0;i<s.length;i+=1)s[i].c();this.h()},l(i){t=c(i,"DIV",{class:!0});var a=m(t);for(let o=0;o<s.length;o+=1)s[o].l(a);a.forEach(f),this.h()},h(){h(t,"class","space-y-2")},m(i,a){$(i,t,a);for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(t,null)},p(i,a){if(a&560){l=Dt(i[5]);let o;for(o=0;o<l.length;o+=1){const r=jt(i,l,o);s[o]?s[o].p(r,a):(s[o]=Bt(r),s[o].c(),s[o].m(t,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=l.length}},d(i){i&&f(t),zt(s,i)}}}function de(n){let t,l="No upcoming events";return{c(){t=v("p"),t.textContent=l,this.h()},l(s){t=c(s,"P",{class:!0,"data-svelte-h":!0}),Q(t)!=="svelte-1a16jdk"&&(t.textContent=l),this.h()},h(){h(t,"class","text-base-content/60 text-sm text-center py-4")},m(s,i){$(s,t,i)},p:_t,d(s){s&&f(t)}}}function Bt(n){let t,l,s,i=new Date(n[21].start*1e3).getDate()+"",a,o,r,d,u=n[21].title+"",x,A,k,E=n[9](n[21].channelId)+"",w,tt,G,j;function q(){return n[13](n[21])}return{c(){t=v("button"),l=v("div"),s=v("div"),a=K(i),o=C(),r=v("div"),d=v("div"),x=K(u),A=C(),k=v("div"),w=K(E),tt=C(),this.h()},l(H){t=c(H,"BUTTON",{class:!0});var p=m(t);l=c(p,"DIV",{class:!0});var I=m(l);s=c(I,"DIV",{class:!0});var T=m(s);a=W(T,i),T.forEach(f),o=D(I),r=c(I,"DIV",{class:!0});var J=m(r);d=c(J,"DIV",{class:!0});var S=m(d);x=W(S,u),S.forEach(f),A=D(J),k=c(J,"DIV",{class:!0});var z=m(k);w=W(z,E),z.forEach(f),J.forEach(f),I.forEach(f),tt=D(p),p.forEach(f),this.h()},h(){h(s,"class","flex-shrink-0 w-8 h-8 rounded bg-primary/20 flex items-center justify-center text-primary text-xs font-bold"),h(d,"class","font-medium text-sm truncate"),h(k,"class","text-xs text-base-content/60"),h(r,"class","flex-1 min-w-0"),h(l,"class","flex items-start gap-2"),h(t,"class","w-full text-left hover:bg-base-300 rounded-lg p-2 -mx-2 transition-colors")},m(H,p){$(H,t,p),e(t,l),e(l,s),e(s,a),e(l,o),e(l,r),e(r,d),e(d,x),e(r,A),e(r,k),e(k,w),e(t,tt),G||(j=xt(t,"click",q),G=!0)},p(H,p){n=H,p&32&&i!==(i=new Date(n[21].start*1e3).getDate()+"")&&Y(a,i),p&32&&u!==(u=n[21].title+"")&&Y(x,u),p&32&&E!==(E=n[9](n[21].channelId)+"")&&Y(w,E)},d(H){H&&f(t),G=!1,j()}}}function Ht(n){let t,l,s=n[9](n[17])+"",i,a,o,r=n[18].length+"",d,u;return{c(){t=v("div"),l=v("span"),i=K(s),a=C(),o=v("span"),d=K(r),u=C(),this.h()},l(x){t=c(x,"DIV",{class:!0});var A=m(t);l=c(A,"SPAN",{class:!0});var k=m(l);i=W(k,s),k.forEach(f),a=D(A),o=c(A,"SPAN",{class:!0});var E=m(o);d=W(E,r),E.forEach(f),u=D(A),A.forEach(f),this.h()},h(){h(l,"class","truncate flex-1"),h(o,"class","badge badge-primary badge-sm"),h(t,"class","flex items-center justify-between text-sm")},m(x,A){$(x,t,A),e(t,l),e(l,i),e(t,a),e(t,o),e(o,d),e(t,u)},p(x,A){A&64&&s!==(s=x[9](x[17])+"")&&Y(i,s),A&64&&r!==(r=x[18].length+"")&&Y(d,r)},d(x){x&&f(t)}}}function Lt(n){let t,l,s,i=n[4].title+"",a,o,r,d,u,x="Date & Time",A,k,E=Ct(n[4].start)+"",w,tt,G,j,q,H="Channel",p,I,T=n[9](n[4].channelId)+"",J,S,z,M,g,N,B,y="Created By",st,Z,et=n[4].createdBy.slice(0,16)+"",lt,at,nt,U,O,vt="Close",rt,X,ut="Close",ht,pt,L=n[4].end&&n[4].end!==n[4].start&&Nt(n),R=n[4].location&&Pt(n),V=n[4].description&&St(n),_=n[4].maxAttendees&&qt(n);return{c(){t=v("div"),l=v("div"),s=v("h3"),a=K(i),o=C(),r=v("div"),d=v("div"),u=v("div"),u.textContent=x,A=C(),k=v("div"),w=K(E),tt=C(),L&&L.c(),G=C(),j=v("div"),q=v("div"),q.textContent=H,p=C(),I=v("div"),J=K(T),S=C(),R&&R.c(),z=C(),V&&V.c(),M=C(),_&&_.c(),g=C(),N=v("div"),B=v("div"),B.textContent=y,st=C(),Z=v("div"),lt=K(et),at=K("..."),nt=C(),U=v("div"),O=v("button"),O.textContent=vt,rt=C(),X=v("button"),X.textContent=ut,this.h()},l(b){t=c(b,"DIV",{class:!0});var P=m(t);l=c(P,"DIV",{class:!0});var it=m(l);s=c(it,"H3",{class:!0});var ft=m(s);a=W(ft,i),ft.forEach(f),o=D(it),r=c(it,"DIV",{class:!0});var F=m(r);d=c(F,"DIV",{});var ot=m(d);u=c(ot,"DIV",{class:!0,"data-svelte-h":!0}),Q(u)!=="svelte-17h9v1k"&&(u.textContent=x),A=D(ot),k=c(ot,"DIV",{class:!0});var bt=m(k);w=W(bt,E),bt.forEach(f),tt=D(ot),L&&L.l(ot),ot.forEach(f),G=D(F),j=c(F,"DIV",{});var dt=m(j);q=c(dt,"DIV",{class:!0,"data-svelte-h":!0}),Q(q)!=="svelte-1irbi4o"&&(q.textContent=H),p=D(dt),I=c(dt,"DIV",{class:!0});var gt=m(I);J=W(gt,T),gt.forEach(f),dt.forEach(f),S=D(F),R&&R.l(F),z=D(F),V&&V.l(F),M=D(F),_&&_.l(F),g=D(F),N=c(F,"DIV",{});var ct=m(N);B=c(ct,"DIV",{class:!0,"data-svelte-h":!0}),Q(B)!=="svelte-ul1hwm"&&(B.textContent=y),st=D(ct),Z=c(ct,"DIV",{class:!0});var mt=m(Z);lt=W(mt,et),at=W(mt,"..."),mt.forEach(f),ct.forEach(f),F.forEach(f),nt=D(it),U=c(it,"DIV",{class:!0});var wt=m(U);O=c(wt,"BUTTON",{class:!0,"data-svelte-h":!0}),Q(O)!=="svelte-4cqlrq"&&(O.textContent=vt),wt.forEach(f),it.forEach(f),rt=D(P),X=c(P,"BUTTON",{class:!0,"data-svelte-h":!0}),Q(X)!=="svelte-1ywlr3u"&&(X.textContent=ut),P.forEach(f),this.h()},h(){h(s,"class","font-bold text-xl mb-4"),h(u,"class","text-sm text-base-content/60"),h(k,"class","font-medium"),h(q,"class","text-sm text-base-content/60"),h(I,"class","font-medium"),h(B,"class","text-sm text-base-content/60"),h(Z,"class","font-mono text-xs"),h(r,"class","space-y-3"),h(O,"class","btn"),h(U,"class","modal-action"),h(l,"class","modal-box max-w-lg"),h(X,"class","modal-backdrop"),h(t,"class","modal modal-open")},m(b,P){$(b,t,P),e(t,l),e(l,s),e(s,a),e(l,o),e(l,r),e(r,d),e(d,u),e(d,A),e(d,k),e(k,w),e(d,tt),L&&L.m(d,null),e(r,G),e(r,j),e(j,q),e(j,p),e(j,I),e(I,J),e(r,S),R&&R.m(r,null),e(r,z),V&&V.m(r,null),e(r,M),_&&_.m(r,null),e(r,g),e(r,N),e(N,B),e(N,st),e(N,Z),e(Z,lt),e(Z,at),e(l,nt),e(l,U),e(U,O),e(t,rt),e(t,X),ht||(pt=[xt(O,"click",n[11]),xt(X,"click",n[11])],ht=!0)},p(b,P){P&16&&i!==(i=b[4].title+"")&&Y(a,i),P&16&&E!==(E=Ct(b[4].start)+"")&&Y(w,E),b[4].end&&b[4].end!==b[4].start?L?L.p(b,P):(L=Nt(b),L.c(),L.m(d,null)):L&&(L.d(1),L=null),P&16&&T!==(T=b[9](b[4].channelId)+"")&&Y(J,T),b[4].location?R?R.p(b,P):(R=Pt(b),R.c(),R.m(r,z)):R&&(R.d(1),R=null),b[4].description?V?V.p(b,P):(V=St(b),V.c(),V.m(r,M)):V&&(V.d(1),V=null),b[4].maxAttendees?_?_.p(b,P):(_=qt(b),_.c(),_.m(r,g)):_&&(_.d(1),_=null),P&16&&et!==(et=b[4].createdBy.slice(0,16)+"")&&Y(lt,et)},d(b){b&&f(t),L&&L.d(),R&&R.d(),V&&V.d(),_&&_.d(),ht=!1,Ft(pt)}}}function Nt(n){let t,l,s=Ct(n[4].end)+"",i;return{c(){t=v("div"),l=K("to "),i=K(s),this.h()},l(a){t=c(a,"DIV",{class:!0});var o=m(t);l=W(o,"to "),i=W(o,s),o.forEach(f),this.h()},h(){h(t,"class","text-sm")},m(a,o){$(a,t,o),e(t,l),e(t,i)},p(a,o){o&16&&s!==(s=Ct(a[4].end)+"")&&Y(i,s)},d(a){a&&f(t)}}}function Pt(n){let t,l,s="Location",i,a,o=n[4].location+"",r;return{c(){t=v("div"),l=v("div"),l.textContent=s,i=C(),a=v("div"),r=K(o),this.h()},l(d){t=c(d,"DIV",{});var u=m(t);l=c(u,"DIV",{class:!0,"data-svelte-h":!0}),Q(l)!=="svelte-1jk1u8w"&&(l.textContent=s),i=D(u),a=c(u,"DIV",{class:!0});var x=m(a);r=W(x,o),x.forEach(f),u.forEach(f),this.h()},h(){h(l,"class","text-sm text-base-content/60"),h(a,"class","font-medium")},m(d,u){$(d,t,u),e(t,l),e(t,i),e(t,a),e(a,r)},p(d,u){u&16&&o!==(o=d[4].location+"")&&Y(r,o)},d(d){d&&f(t)}}}function St(n){let t,l,s="Description",i,a,o=n[4].description+"",r;return{c(){t=v("div"),l=v("div"),l.textContent=s,i=C(),a=v("div"),r=K(o),this.h()},l(d){t=c(d,"DIV",{});var u=m(t);l=c(u,"DIV",{class:!0,"data-svelte-h":!0}),Q(l)!=="svelte-1s9d3m7"&&(l.textContent=s),i=D(u),a=c(u,"DIV",{class:!0});var x=m(a);r=W(x,o),x.forEach(f),u.forEach(f),this.h()},h(){h(l,"class","text-sm text-base-content/60"),h(a,"class","text-sm")},m(d,u){$(d,t,u),e(t,l),e(t,i),e(t,a),e(a,r)},p(d,u){u&16&&o!==(o=d[4].description+"")&&Y(r,o)},d(d){d&&f(t)}}}function qt(n){let t,l,s="Max Attendees",i,a,o=n[4].maxAttendees+"",r;return{c(){t=v("div"),l=v("div"),l.textContent=s,i=C(),a=v("div"),r=K(o),this.h()},l(d){t=c(d,"DIV",{});var u=m(t);l=c(u,"DIV",{class:!0,"data-svelte-h":!0}),Q(l)!=="svelte-1ywu55e"&&(l.textContent=s),i=D(u),a=c(u,"DIV",{class:!0});var x=m(a);r=W(x,o),x.forEach(f),u.forEach(f),this.h()},h(){h(l,"class","text-sm text-base-content/60"),h(a,"class","font-medium")},m(d,u){$(d,t,u),e(t,l),e(t,i),e(t,a),e(a,r)},p(d,u){u&16&&o!==(o=d[4].maxAttendees+"")&&Y(r,o)},d(d){d&&f(t)}}}function ce(n){let t,l,s,i,a,o=`<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
      Back to Admin`,r,d,u,x='<h1 class="text-4xl font-bold gradient-text mb-2">Admin Calendar</h1> <p class="text-base-content/70">Combined view of all channel events</p>',A,k,E,w,tt="Total Events",G,j,q=n[0].length+"",H,p,I,T,J="Channels",S,z,M=n[1].length+"",g,N,B,y,st="This Week",Z,et,lt=n[5].length+"",at,nt,U,O,vt,rt,X,ut,ht;document.title=t="Admin Calendar - "+n[7].name;const pt=[oe,ie,ne],L=[];function R(_,b){return _[2]?0:_[3]?1:2}U=R(n),O=L[U]=pt[U](n);let V=n[4]&&Lt(n);return{c(){l=C(),s=v("div"),i=v("div"),a=v("button"),a.innerHTML=o,r=C(),d=v("div"),u=v("div"),u.innerHTML=x,A=C(),k=v("div"),E=v("div"),w=v("div"),w.textContent=tt,G=C(),j=v("div"),H=K(q),p=C(),I=v("div"),T=v("div"),T.textContent=J,S=C(),z=v("div"),g=K(M),N=C(),B=v("div"),y=v("div"),y.textContent=st,Z=C(),et=v("div"),at=K(lt),nt=C(),O.c(),vt=C(),V&&V.c(),rt=yt(),this.h()},l(_){Ut("svelte-1irejz",document.head).forEach(f),l=D(_),s=c(_,"DIV",{class:!0});var P=m(s);i=c(P,"DIV",{class:!0});var it=m(i);a=c(it,"BUTTON",{class:!0,"data-svelte-h":!0}),Q(a)!=="svelte-1mdfos0"&&(a.innerHTML=o),r=D(it),d=c(it,"DIV",{class:!0});var ft=m(d);u=c(ft,"DIV",{"data-svelte-h":!0}),Q(u)!=="svelte-19yjqzf"&&(u.innerHTML=x),A=D(ft),k=c(ft,"DIV",{class:!0});var F=m(k);E=c(F,"DIV",{class:!0});var ot=m(E);w=c(ot,"DIV",{class:!0,"data-svelte-h":!0}),Q(w)!=="svelte-1ithsfi"&&(w.textContent=tt),G=D(ot),j=c(ot,"DIV",{class:!0});var bt=m(j);H=W(bt,q),bt.forEach(f),ot.forEach(f),p=D(F),I=c(F,"DIV",{class:!0});var dt=m(I);T=c(dt,"DIV",{class:!0,"data-svelte-h":!0}),Q(T)!=="svelte-1o6ualt"&&(T.textContent=J),S=D(dt),z=c(dt,"DIV",{class:!0});var gt=m(z);g=W(gt,M),gt.forEach(f),dt.forEach(f),N=D(F),B=c(F,"DIV",{class:!0});var ct=m(B);y=c(ct,"DIV",{class:!0,"data-svelte-h":!0}),Q(y)!=="svelte-1q599f3"&&(y.textContent=st),Z=D(ct),et=c(ct,"DIV",{class:!0});var mt=m(et);at=W(mt,lt),mt.forEach(f),ct.forEach(f),F.forEach(f),ft.forEach(f),it.forEach(f),nt=D(P),O.l(P),P.forEach(f),vt=D(_),V&&V.l(_),rt=yt(),this.h()},h(){h(a,"class","btn btn-ghost btn-sm gap-1 mb-4"),h(w,"class","stat-title text-xs"),h(j,"class","stat-value text-2xl text-primary"),h(E,"class","stat py-2 px-4"),h(T,"class","stat-title text-xs"),h(z,"class","stat-value text-2xl text-secondary"),h(I,"class","stat py-2 px-4"),h(y,"class","stat-title text-xs"),h(et,"class","stat-value text-2xl text-accent"),h(B,"class","stat py-2 px-4"),h(k,"class","stats shadow bg-base-200"),h(d,"class","flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4"),h(i,"class","mb-6"),h(s,"class","container mx-auto p-4 max-w-7xl")},m(_,b){$(_,l,b),$(_,s,b),e(s,i),e(i,a),e(i,r),e(i,d),e(d,u),e(d,A),e(d,k),e(k,E),e(E,w),e(E,G),e(E,j),e(j,H),e(k,p),e(k,I),e(I,T),e(I,S),e(I,z),e(z,g),e(k,N),e(k,B),e(B,y),e(B,Z),e(B,et),e(et,at),e(s,nt),L[U].m(s,null),$(_,vt,b),V&&V.m(_,b),$(_,rt,b),X=!0,ut||(ht=xt(a,"click",n[12]),ut=!0)},p(_,[b]){(!X||b&128)&&t!==(t="Admin Calendar - "+_[7].name)&&(document.title=t),(!X||b&1)&&q!==(q=_[0].length+"")&&Y(H,q),(!X||b&2)&&M!==(M=_[1].length+"")&&Y(g,M),(!X||b&32)&&lt!==(lt=_[5].length+"")&&Y(at,lt);let P=U;U=R(_),U===P?L[U].p(_,b):(Zt(),It(L[P],1,1,()=>{L[P]=null}),Qt(),O=L[U],O?O.p(_,b):(O=L[U]=pt[U](_),O.c()),Vt(O,1),O.m(s,null)),_[4]?V?V.p(_,b):(V=Lt(_),V.c(),V.m(rt.parentNode,rt)):V&&(V.d(1),V=null)},i(_){X||(Vt(O),X=!0)},o(_){It(O),X=!1},d(_){_&&(f(l),f(s),f(vt),f(rt)),L[U].d(),V&&V.d(_),ut=!1,ht()}}}function Ct(n){return new Date(n*1e3).toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function ve(n,t,l){let s,i,a,o;At(n,Tt,p=>l(14,a=p)),At(n,ee,p=>l(15,o=p));const r=$t();let d=[],u=[],x=new Map,A=!0,k=null,E=new Date,w=null;Rt(async()=>{if(await Tt.waitForReady(),!a.isAuthenticated||!a.publicKey){Et(`${kt}/`);return}if(!o){Et(`${kt}/events`);return}try{await te(a);const[p,I]=await Promise.all([se({isAdmin:!0}),le()]);l(1,u=p),l(0,d=I),u.forEach(T=>x.set(T.id,T.name))}catch(p){console.error("Failed to load calendar data:",p),l(3,k=p instanceof Error?p.message:"Failed to load calendar data")}finally{l(2,A=!1)}});function tt(p){return x.get(p)||p.slice(0,8)+"..."}function G(p){l(4,w=p.detail)}function j(){l(4,w=null)}function q(){Et(`${kt}/admin`)}const H=p=>l(4,w=p);return n.$$.update=()=>{n.$$.dirty&1&&l(6,s=d.reduce((p,I)=>{const T=I.channelId||"uncategorized";return p[T]||(p[T]=[]),p[T].push(I),p},{})),n.$$.dirty&1&&l(5,i=d.filter(p=>{const I=Math.floor(Date.now()/1e3),T=I+7*24*60*60;return p.start>=I&&p.start<=T}).slice(0,10))},[d,u,A,k,w,i,s,r,E,tt,G,j,q,H]}class De extends Wt{constructor(t){super(),Kt(this,t,ve,ce,Ot,{})}}export{De as component};
