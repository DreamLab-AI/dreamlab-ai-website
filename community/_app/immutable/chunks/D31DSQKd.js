import{f as c,l,a1 as n,a2 as s,a3 as i,d as u,R as h,a4 as C,a5 as R,a6 as b,g as v,m as S,v as m,b as y,o as A,c as T,a7 as _,S as O}from"./DxD0Wn3l.js";function f(e,r,t){if(e.globalRole==="admin"||s(e.globalRole,r))return!0;if(t){const a=e.sectionRoles.find(o=>o.sectionId===t);if(a&&s(a.role,r))return!0}return!1}function g(e,r){const t=c(r);return t?t.access.autoApprove||e.globalRole==="admin"||e.sectionRoles.find(o=>o.sectionId===r)?!0:t.access.requiredCohorts?.length?t.access.requiredCohorts.some(o=>e.cohorts.includes(o)):!1:!1}function d(e,r){if(e.globalRole==="admin")return"admin";const t=e.sectionRoles.find(o=>o.sectionId===r);return t?i(e.globalRole,t.role)?e.globalRole:t.role:c(r)?.access.autoApprove&&e.globalRole||"guest"}function F(e,r){if(f(e,"forum.create",r))return!0;if(!c(r)?.allowForumCreation)return!1;if(g(e,r)){const a=d(e,r),o=n(a);return o?o.level>=1:!1}return!1}function E(e,r){const t=l(r);if(!t)return!1;if(e.globalRole==="admin"||e.cohorts.includes("cross-access")||!t.access)return!0;if(t.access.hiddenFromCohorts?.length&&t.access.hiddenFromCohorts.some(o=>e.cohorts.includes(o)))return!1;if(t.access.minimumRole){const a=n(e.globalRole),o=n(t.access.minimumRole);if(a&&o&&a.level<o.level)return!1}return t.access.visibleToCohorts?.length?t.access.visibleToCohorts.some(o=>e.cohorts.includes(o)):!0}function N(e){return u().filter(t=>E(e,t.id))}function M(e){return e.globalRole==="admin"||e.cohorts.includes("admin")||e.cohorts.includes("cross-access")}const j=Object.freeze(Object.defineProperty({__proto__:null,NDK_CONFIG:C,RELAY_URL:h,SECTION_CONFIG:O,TIMEOUTS:R,canAccessSection:g,canCreateChannel:F,getAppConfig:v,getBreadcrumbs:T,getCategories:u,getCategory:l,getCohorts:A,getEffectiveRole:d,getRole:n,getSection:c,getSectionConfigMap:_,getSectionWithCategory:y,getSections:S,getSectionsByCategory:m,hasCapability:f,loadConfig:b,roleHasCapability:s,roleIsHigherThan:i},Symbol.toStringTag,{value:"Module"}));export{g as a,E as b,F as c,N as g,M as h,j as i};
