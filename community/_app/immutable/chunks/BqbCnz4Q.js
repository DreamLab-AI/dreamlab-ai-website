import{_ as m}from"./CmsKOCeN.js";let y,u,F,d,f,o,w,E=(async()=>{u={initIndex:[32,128,100]},F={m:32,efSearch:128,efConstruction:128,numNeighbors:8,dimensions:1538},y="FILE_DATA";let r;f=i=>{const e=r.EmscriptenFileSystemManager,t=i==="read"?!0:i==="write"?!1:void 0;if(t===void 0)throw new Error("Invalid action type");return new Promise((s,n)=>{try{e.syncFS(t,()=>{s()})}catch(a){n(a)}})},o=()=>{const i=r.EmscriptenFileSystemManager;return new Promise((e,t)=>{let s=0;const n=100,a=4e3,l=()=>{i.isInitialized()?e():s>=a?t(new Error("Failed to initialize filesystem")):(s+=n,setTimeout(l,n))};setTimeout(l,n)})},w=()=>{const i=r.EmscriptenFileSystemManager;return new Promise((e,t)=>{let s=0;const n=100,a=4e3,l=()=>{i.isSynced()?e():s>=a?t(new Error("Failed to initialize filesystem")):(s+=n,setTimeout(l,n))};setTimeout(l,n)})};const c=async i=>{const e=i??"IDBFS",t=r.EmscriptenFileSystemManager;if(!t.isInitialized())return t.initializeFileSystem(e),await o()};d=async i=>{try{if(typeof hnswlib<"u"&&hnswlib!==null){const e=hnswlib();if(e!=null)return e}if(!r){const t=(await m(()=>import("./COkp5POF.js"),[],import.meta.url)).default;return r=await t(),await c(i),r}return r}catch(e){throw console.error("----------------------------------------"),console.error("Error initializing the library:",e),e}}})();export{y as IDBFS_STORE_NAME,E as __tla,u as defaultParams,F as hnswParamsForAda,d as loadHnswlib,f as syncFileSystem,o as waitForFileSystemInitalized,w as waitForFileSystemSynced};
