import{d as s}from"./xKPZ-4ZK.js";import{a as i}from"./DxD0Wn3l.js";import{whitelistStatusStore as n}from"./CF3XGpNG.js";import{B as m}from"./0ZVSoAEn.js";const a=s([i,n],([e,r])=>!e.isAuthenticated||!e.pubkey?!0:r!==null),t=s([i,n],([e,r])=>{if(!e.isAuthenticated||!e.pubkey)return null;const o=r?.cohorts??[],u=r?.isAdmin??!1;return{pubkey:e.pubkey,cohorts:o,globalRole:u?"admin":"member",sectionRoles:[]}});function d(){return new Promise(e=>{const r=a.subscribe(o=>{o&&queueMicrotask(()=>{r(),e(m(t))})})})}s(t,e=>e?.globalRole==="admin");s(t,e=>e?.pubkey??null);export{a as p,t as u,d as w};
