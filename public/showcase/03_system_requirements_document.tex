\chapter{System Requirements Document (SRD)}

\section{Introduction}

This chapter defines the comprehensive functional and non-functional requirements for the world-class immersive visualisation facility. All requirements are traceable, testable, and aligned with the strategic objectives outlined in Chapter 2.

\section{System Overview}

\subsection{System Context}

\begin{figure}[H]
\centering
\begin{tikzpicture}[node distance=3cm]
    % Central system
    \node[rectangle, draw=dreamlabPrimary, fill=dreamlabPrimary!20, minimum width=4cm, minimum height=2cm] (cave) {CAVE System};

    % External systems
    \node[rectangle, draw=dreamlabSecondary, fill=white, above left of=cave] (hpc) {Campus HPC};
    \node[rectangle, draw=dreamlabSecondary, fill=white, above right of=cave] (network) {JANET Network};
    \node[rectangle, draw=dreamlabSecondary, fill=white, below left of=cave] (users) {Users};
    \node[rectangle, draw=dreamlabSecondary, fill=white, below right of=cave] (remote) {Remote Sites};

    % Connections
    \draw[<->, thick] (cave) -- (hpc) node[midway, above, sloped] {Data};
    \draw[<->, thick] (cave) -- (network) node[midway, above, sloped] {100Gb/s};
    \draw[->, thick] (users) -- (cave) node[midway, below, sloped] {Interact};
    \draw[<->, thick] (cave) -- (remote) node[midway, below, sloped] {Telepresence};
\end{tikzpicture}
\caption{System context diagram}
\end{figure}

\subsection{System Architecture}

The facility comprises six major subsystems working in concert:

\begin{enumerate}
    \item \textbf{Display System}: 6-sided projection/LED surfaces
    \item \textbf{Compute Backend}: GPU cluster for rendering
    \item \textbf{Audio System}: Wave Field Synthesis array
    \item \textbf{Tracking System}: Optical tracking and volumetric capture
    \item \textbf{Network Infrastructure}: High-speed interconnects
    \item \textbf{Control System}: Integration and management layer
\end{enumerate}

\section{Functional Requirements}

\subsection{Visual Display Requirements}

\requirement{VIS-001}{The system SHALL provide a six-sided immersive display environment comprising four walls, floor, and ceiling surfaces.}

\requirement{VIS-002}{Each display surface SHALL achieve a minimum native resolution of 7680×4320 pixels (8K UHD).}

\requirement{VIS-003}{The system SHALL support stereoscopic 3D display for up to 6 simultaneous users, with each user receiving a correctly perspective-corrected view based on their tracked head position.}

\requirement{VIS-004}{Display refresh rate SHALL be minimum 120Hz per eye in single-user mode and 60Hz per eye when supporting 6 users simultaneously.}

\requirement{VIS-005}{The system SHALL maintain colour accuracy with Delta E < 2 across all display surfaces after calibration.}

\begin{table}[H]
\centering
\begin{tabular}{@{}llll@{}}
\toprule
\textbf{Parameter} & \textbf{Minimum} & \textbf{Target} & \textbf{Verification} \\
\midrule
Resolution per surface & 4K (3840×2160) & 8K (7680×4320) & Pixel count \\
Brightness & 800 nits & 1000 nits & Photometer \\
Contrast ratio & 2000:1 & 1,000,000:1 & ANSI checkerboard \\
Colour gamut & DCI-P3 & Rec.2020 & Spectroradiometer \\
Uniformity & 85\% & 90\% & 9-point measurement \\
\bottomrule
\end{tabular}
\caption{Visual display specifications}
\end{table}

\subsection{Multi-User Support Requirements}

\requirement{MU-001}{The system SHALL track and render unique stereoscopic views for 6 users simultaneously within the immersive space.}

\requirement{MU-002}{Each user SHALL be uniquely identified through active tracking markers integrated with shutter glasses.}

\requirement{MU-003}{The system SHALL maintain view separation with less than 2\% crosstalk between any two users' views.}

\requirement{MU-004}{Latency from head movement to updated view SHALL not exceed 20ms for any user.}

\subsection{Audio System Requirements}

\requirement{AUD-001}{The system SHALL implement Wave Field Synthesis using a minimum of 128 independently driven loudspeakers.}

\requirement{AUD-002}{The WFS array SHALL synthesise virtual sound sources at any position within the cave volume with localisation accuracy better than 1 degree.}

\requirement{AUD-003}{The audio system SHALL support at least 32 simultaneous dynamic sound sources with real-time position updates at 60Hz minimum.}

\requirement{AUD-004}{Frequency response SHALL be 50Hz to 16kHz ±3dB throughout the listening area.}

\begin{figure}[H]
\centering
\begin{tikzpicture}
    % Cave outline
    \draw[thick] (0,0) rectangle (6,4);

    % Speaker positions
    \foreach \x in {0,0.5,...,6} {
        \fill[dreamlabSecondary] (\x,0) circle (0.1);
        \fill[dreamlabSecondary] (\x,4) circle (0.1);
    }
    \foreach \y in {0.5,1,...,3.5} {
        \fill[dreamlabSecondary] (0,\y) circle (0.1);
        \fill[dreamlabSecondary] (6,\y) circle (0.1);
    }

    % Sound field illustration
    \foreach \i in {1,2,3} {
        \draw[dreamlabAccent, opacity=0.3] (3,2) circle (\i*0.8);
    }

    % Labels
    \node at (3,-0.5) {WFS Speaker Array};
    \node at (3,2) {Sound Field};
\end{tikzpicture}
\caption{Wave Field Synthesis speaker configuration}
\end{figure}

\subsection{Tracking and Capture Requirements}

\requirement{TRK-001}{The optical tracking system SHALL track a minimum of 6 head-mounted targets simultaneously with positional accuracy better than 1mm and angular accuracy better than 0.1 degrees.}

\requirement{TRK-002}{Tracking update rate SHALL be minimum 240Hz with latency not exceeding 10ms from movement to reported position.}

\requirement{TRK-003}{The tracking volume SHALL cover the entire accessible space within the cave (minimum 5m × 5m × 3m).}

\requirement{TRK-004}{The system SHALL support tracking of at least 20 additional rigid bodies for props and tools.}

\subsection{Volumetric Capture Requirements}

\requirement{VOL-001}{The volumetric capture system SHALL comprise a minimum of 64 synchronised cameras providing complete coverage of the cave interior.}

\requirement{VOL-002}{Each capture camera SHALL provide minimum 4K resolution at 60fps with global shutter.}

\requirement{VOL-003}{The system SHALL reconstruct 3D meshes of humans in real-time (30fps minimum) with geometric accuracy better than 10mm.}

\requirement{VOL-004}{Capture data SHALL be streamable to remote sites with latency not exceeding 100ms for telepresence applications.}

\subsection{Compute Infrastructure Requirements}

\requirement{COM-001}{The render cluster SHALL comprise a minimum of 32 professional-grade GPUs with hardware genlock synchronisation.}

\requirement{COM-002}{The system SHALL support real-time ray tracing for photorealistic rendering at target frame rates.}

\requirement{COM-003}{Storage system SHALL provide minimum 1PB capacity with sustained read performance of 20GB/s or greater.}

\requirement{COM-004}{Internal network SHALL provide minimum 100Gb/s connectivity to each compute node with RDMA support.}

\begin{table}[H]
\centering
\begin{tabular}{@{}lll@{}}
\toprule
\textbf{Component} & \textbf{Specification} & \textbf{Quantity} \\
\midrule
GPU & NVIDIA RTX 6000 Ada or better & 32 minimum \\
CPU per node & Dual Intel Xeon or AMD EPYC & 8 nodes \\
RAM per node & 256GB DDR5 ECC minimum & 8 nodes \\
NVMe storage & 4TB per node for cache & 8 nodes \\
Interconnect & InfiniBand HDR or 400GbE & Full mesh \\
\bottomrule
\end{tabular}
\caption{Compute infrastructure specifications}
\end{table}

\section{Non-Functional Requirements}

\subsection{Performance Requirements}

\requirement{PERF-001}{The system SHALL maintain consistent performance with no frame drops during normal operation with 6 active users.}

\requirement{PERF-002}{System boot time from cold start to operational state SHALL not exceed 5 minutes.}

\requirement{PERF-003}{Scene loading time for datasets up to 100GB SHALL not exceed 30 seconds.}

\subsection{Reliability Requirements}

\requirement{REL-001}{The system SHALL achieve 99.5\% availability during scheduled operating hours (excluding planned maintenance).}

\requirement{REL-002}{Mean Time Between Failures (MTBF) SHALL exceed 1000 hours for all critical components.}

\requirement{REL-003}{The system SHALL support hot-swappable components where technically feasible to minimise downtime.}

\subsection{Safety Requirements}

\requirement{SAF-001}{All laser projection systems SHALL comply with IEC 60825-1 safety standards with appropriate interlocks.}

\requirement{SAF-002}{Emergency stop buttons SHALL be positioned at all exits and operator positions, halting all displays within 100ms.}

\requirement{SAF-003}{The system SHALL include automatic lighting activation upon emergency stop or power failure.}

\requirement{SAF-004}{Audio levels SHALL be limited to 85dB SPL with automatic limiting to prevent hearing damage.}

\subsection{Environmental Requirements}

\requirement{ENV-001}{The system SHALL operate in ambient temperatures from 18°C to 25°C with humidity 40-60\% RH.}

\requirement{ENV-002}{Acoustic noise from all equipment SHALL not exceed 35dB(A) within the cave space during operation.}

\requirement{ENV-003}{The system SHALL include provisions for heat dissipation of up to 50kW total load.}

\subsection{Usability Requirements}

\requirement{USE-001}{The system SHALL provide a graphical user interface for non-technical operators to start/stop standard scenarios.}

\requirement{USE-002}{System status and health monitoring SHALL be accessible via web interface from authorised devices.}

\requirement{USE-003}{The system SHALL support content from major 3D engines including Unreal Engine 5 and Unity 2025 LTS.}

\section{Interface Requirements}

\subsection{Software Interfaces}

\begin{itemize}
    \item \textbf{Rendering APIs}: OpenGL 4.6, Vulkan 1.3, DirectX 12
    \item \textbf{Tracking Protocol}: VRPN, OpenXR 1.0
    \item \textbf{Audio APIs}: ASIO, WFS control protocol
    \item \textbf{Network Protocols}: TCP/IP, UDP, RDMA over Ethernet
    \item \textbf{Remote Access}: VNC, RDP, SSH
\end{itemize}

\subsection{Hardware Interfaces}

\begin{itemize}
    \item \textbf{Display Outputs}: DisplayPort 1.4, HDMI 2.1, or proprietary
    \item \textbf{Sync Signals}: Genlock BNC, S/PDIF
    \item \textbf{Tracking}: GigE Vision cameras, USB 3.2
    \item \textbf{Network}: QSFP28 100GbE, QSFP-DD 400GbE
    \item \textbf{Power}: 3-phase 415V, IEC 60309 connectors
\end{itemize}

\section{Stakeholder Use Cases}

\subsection{Use Case 1: Nuclear Decommissioning Training}

\begin{table}[H]
\centering
\begin{tabularx}{\textwidth}{@{}lX@{}}
\toprule
\textbf{Element} & \textbf{Description} \\
\midrule
Primary Actor & Nuclear engineer with robot operator \\
Preconditions & 3D scan of facility loaded, robot arm connected \\
Main Flow &
\begin{enumerate}[topsep=0pt]
    \item Engineers enter cave wearing tracked glasses
    \item Load photogrammetry model of reactor hall
    \item Activate radiation visualisation overlay
    \item Connect physical robot arm to virtual model
    \item Practice decommissioning procedures
    \item Review recorded session for training
\end{enumerate} \\
Success Criteria & Procedures completed safely in virtual environment \\
\bottomrule
\end{tabularx}
\caption{Nuclear decommissioning use case}
\end{table}

\subsection{Use Case 2: Automotive Design Review}

\begin{table}[H]
\centering
\begin{tabularx}{\textwidth}{@{}lX@{}}
\toprule
\textbf{Element} & \textbf{Description} \\
\midrule
Primary Actor & Design team (3-6 people) \\
Preconditions & CAD model imported, materials configured \\
Main Flow &
\begin{enumerate}[topsep=0pt]
    \item Team enters cave for design review
    \item Load vehicle model at 1:1 scale
    \item Each member sees correct perspective
    \item Examine interior ergonomics
    \item Simulate sensor visualisations
    \item Make real-time modifications
    \item Export decisions to CAD system
\end{enumerate} \\
Success Criteria & Design decisions made collaboratively \\
\bottomrule
\end{tabularx}
\caption{Automotive design review use case}
\end{table}

\section{Validation and Verification}

\subsection{Verification Matrix}

Each requirement will be verified through one or more of the following methods:

\begin{itemize}
    \item \textbf{Inspection (I)}: Visual or documented review
    \item \textbf{Demonstration (D)}: Functional demonstration
    \item \textbf{Test (T)}: Measured against specifications
    \item \textbf{Analysis (A)}: Calculated or simulated verification
\end{itemize}

\subsection{Acceptance Criteria}

The system shall be considered acceptable when:

\begin{enumerate}
    \item All mandatory requirements (SHALL) are verified
    \item Performance targets meet or exceed specifications
    \item Safety systems pass all required certifications
    \item User acceptance testing achieves >90\% satisfaction
    \item Documentation and training are complete
\end{enumerate}

\section{Requirements Traceability}

All requirements are traceable to strategic objectives and will be tracked through implementation:

\begin{figure}[H]
\centering
\begin{tikzpicture}[node distance=2cm]
    \node[rectangle, draw=dreamlabPrimary, fill=dreamlabPrimary!20] (strategy) {Strategic Objectives};
    \node[rectangle, draw=dreamlabSecondary, fill=dreamlabSecondary!20, below of=strategy] (requirements) {System Requirements};
    \node[rectangle, draw=dreamlabAccent, fill=dreamlabAccent!20, below of=requirements] (design) {Design Specifications};
    \node[rectangle, draw=dreamlabPrimary, fill=dreamlabPrimary!10, below of=design] (implementation) {Implementation};

    \draw[thick, ->] (strategy) -- (requirements);
    \draw[thick, ->] (requirements) -- (design);
    \draw[thick, ->] (design) -- (implementation);

    \draw[thick, <->, dashed] (strategy.east) -- +(2,0) -- +(2,-6) -- (implementation.east);
    \node[right] at ($(strategy.east)+(2.2,-3)$) {Traceability};
\end{tikzpicture}
\caption{Requirements traceability flow}
\end{figure}