%======================================================================
% Modern Beamer Theme for Professional Presentations
%======================================================================
\ProvidesPackage{beamertheme-modern}[2025/01/01 Modern Beamer Theme]

\mode<presentation>

%---------------------------------------------------------------------
% Required Packages
%---------------------------------------------------------------------
\RequirePackage{tikz}
\RequirePackage{xcolor}
\RequirePackage{calc}
\RequirePackage{etoolbox}
\RequirePackage{tcolorbox}

%---------------------------------------------------------------------
% Color Definitions
%---------------------------------------------------------------------
\definecolor{modernPrimary}{RGB}{0,122,255}
\definecolor{modernAccent}{RGB}{0,184,212}
\definecolor{modernDark}{RGB}{25,42,86}
\definecolor{modernSuccess}{RGB}{76,175,80}
\definecolor{modernWarning}{RGB}{255,152,0}
\definecolor{modernDanger}{RGB}{244,67,54}
\definecolor{modernText}{RGB}{33,33,33}
\definecolor{modernTextLight}{RGB}{117,117,117}
\definecolor{modernBg}{RGB}{248,249,250}
\definecolor{modernGray}{RGB}{245,245,247}

%---------------------------------------------------------------------
% Beamer Color Theme
%---------------------------------------------------------------------
\setbeamercolor{normal text}{fg=modernText,bg=white}
\setbeamercolor{alerted text}{fg=modernDanger}
\setbeamercolor{example text}{fg=modernSuccess}
\setbeamercolor{structure}{fg=modernPrimary}

\setbeamercolor{palette primary}{fg=white,bg=modernPrimary}
\setbeamercolor{palette secondary}{fg=white,bg=modernAccent}
\setbeamercolor{palette tertiary}{fg=white,bg=modernDark}
\setbeamercolor{palette quaternary}{fg=white,bg=modernText}

\setbeamercolor{title}{fg=modernDark,bg=white}
\setbeamercolor{subtitle}{fg=modernPrimary,bg=white}
\setbeamercolor{author}{fg=modernText,bg=white}
\setbeamercolor{institute}{fg=modernTextLight,bg=white}
\setbeamercolor{date}{fg=modernTextLight,bg=white}

\setbeamercolor{frametitle}{fg=modernDark,bg=white}
\setbeamercolor{framesubtitle}{fg=modernTextLight,bg=white}

\setbeamercolor{block title}{fg=white,bg=modernPrimary}
\setbeamercolor{block body}{fg=modernText,bg=modernBg}
\setbeamercolor{block title alerted}{fg=white,bg=modernDanger}
\setbeamercolor{block body alerted}{fg=modernText,bg=modernDanger!10}
\setbeamercolor{block title example}{fg=white,bg=modernSuccess}
\setbeamercolor{block body example}{fg=modernText,bg=modernSuccess!10}

\setbeamercolor{item}{fg=modernPrimary}
\setbeamercolor{subitem}{fg=modernAccent}
\setbeamercolor{subsubitem}{fg=modernTextLight}

\setbeamercolor{section in toc}{fg=modernDark}
\setbeamercolor{subsection in toc}{fg=modernText}

\setbeamercolor{footline}{fg=modernTextLight,bg=modernBg}
\setbeamercolor{headline}{fg=white,bg=modernDark}

%---------------------------------------------------------------------
% Beamer Font Theme
%---------------------------------------------------------------------
\setbeamerfont{title}{size=\Huge,series=\bfseries}
\setbeamerfont{subtitle}{size=\Large}
\setbeamerfont{author}{size=\large}
\setbeamerfont{institute}{size=\normalsize}
\setbeamerfont{date}{size=\normalsize}
\setbeamerfont{frametitle}{size=\Large,series=\bfseries}
\setbeamerfont{framesubtitle}{size=\normalsize}
\setbeamerfont{block title}{series=\bfseries}
\setbeamerfont{footline}{size=\scriptsize}

%---------------------------------------------------------------------
% Beamer Inner Theme
%---------------------------------------------------------------------
\setbeamertemplate{blocks}[rounded][shadow=true]
\setbeamertemplate{items}[circle]
\setbeamertemplate{sections/subsections in toc}[circle]
\setbeamertemplate{title page}[default][colsep=-4bp,rounded=true]

%---------------------------------------------------------------------
% Beamer Outer Theme
%---------------------------------------------------------------------
\setbeamertemplate{navigation symbols}{}
\setbeamertemplate{headline}{}

\setbeamertemplate{footline}{
  \leavevmode%
  \hbox{%
    \begin{beamercolorbox}[wd=.333333\paperwidth,ht=2.25ex,dp=1ex,left]{footline}%
      \hspace*{1ex}\insertshortauthor
    \end{beamercolorbox}%
    \begin{beamercolorbox}[wd=.333333\paperwidth,ht=2.25ex,dp=1ex,center]{footline}%
      \insertshortdate
    \end{beamercolorbox}%
    \begin{beamercolorbox}[wd=.333333\paperwidth,ht=2.25ex,dp=1ex,right]{footline}%
      \insertframenumber{} / \inserttotalframenumber\hspace*{1ex}
    \end{beamercolorbox}}%
  \vskip0pt%
}

\setbeamertemplate{frametitle}{
  \nointerlineskip
  \begin{beamercolorbox}[wd=\paperwidth,sep=0.3cm,leftskip=0.5cm,rightskip=0.5cm]{frametitle}
    \usebeamerfont{frametitle}\insertframetitle
    \ifx\insertframesubtitle\@empty\else
      \\[0.2em]
      \usebeamerfont{framesubtitle}\usebeamercolor[fg]{framesubtitle}\insertframesubtitle
    \fi
  \end{beamercolorbox}
}

%---------------------------------------------------------------------
% Custom Commands
%---------------------------------------------------------------------
\newcommand{\modernframe}[2][]{
  \begin{frame}[#1]
    \frametitle{#2}
}

\newcommand{\endmodernframe}{
  \end{frame}
}

\mode<all>