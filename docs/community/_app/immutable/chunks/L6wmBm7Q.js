import{s as Be,d as b,z as oe,r as Me,a as x,i as W,b as d,q as Z,l as m,c as w,e as B,f as U,g as V,o as te,h as T,t as j,j as N,C as Ie,n as Ve,x as ue,A as H,D as Ne}from"./CwRy9Tox.js";import{S as Se,i as He,t as K,a as L,g as re,c as ce,d as Ae,m as Fe,b as Oe,e as Ue}from"./D-vqeeah.js";import{e as P}from"./BFk-VQ8S.js";import{A as je}from"./DumBL_cR.js";function de(t,e,a){const s=t.slice();return s[23]=e[a],s}function ge(t,e,a){const s=t.slice();s[26]=e[a];const l=s[6](s[26]);s[27]=l;const o=s[7](s[26]);s[28]=o;const n=Je(s[28]);return s[29]=n,s}function _e(t,e,a){const s=t.slice();return s[32]=e[a],s}function be(t,e,a){const s=t.slice();return s[35]=e[a],s}function ve(t){let e,a=t[35]+"",s,l;return{c(){e=T("div"),s=j(a),l=N(),this.h()},l(o){e=w(o,"DIV",{class:!0});var n=B(e);s=U(n,a),l=V(n),n.forEach(b),this.h()},h(){m(e,"class","text-center text-xs font-medium text-base-content/60 py-1")},m(o,n){W(o,e,n),d(e,s),d(e,l)},p:Ve,d(o){o&&b(e)}}}function me(t){let e,a,s;return a=new je({props:{blocks:t[28],variant:"bar",showLabel:!1,onClick:t[1]}}),{c(){e=T("div"),Ue(a.$$.fragment),this.h()},l(l){e=w(l,"DIV",{class:!0});var o=B(e);Oe(a.$$.fragment,o),o.forEach(b),this.h()},h(){m(e,"class","mt-1")},m(l,o){W(l,e,o),Fe(a,e,null),s=!0},p(l,o){const n={};o[0]&16&&(n.blocks=l[28]),o[0]&2&&(n.onClick=l[1]),a.$set(n)},i(l){s||(L(a.$$.fragment,l),s=!0)},o(l){K(a.$$.fragment,l),s=!1},d(l){l&&b(e),Ae(a)}}}function pe(t){let e,a,s=P(t[27].slice(0,t[28].length>0?2:3)),l=[];for(let n=0;n<s.length;n+=1)l[n]=De(_e(t,s,n));let o=t[27].length>(t[28].length>0?2:3)&&ye(t);return{c(){e=T("div");for(let n=0;n<l.length;n+=1)l[n].c();a=N(),o&&o.c(),this.h()},l(n){e=w(n,"DIV",{class:!0});var r=B(e);for(let i=0;i<l.length;i+=1)l[i].l(r);a=V(r),o&&o.l(r),r.forEach(b),this.h()},h(){m(e,"class","mt-1 space-y-0.5")},m(n,r){W(n,e,r);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null);d(e,a),o&&o.m(e,null)},p(n,r){if(r[0]&8400){s=P(n[27].slice(0,n[28].length>0?2:3));let i;for(i=0;i<s.length;i+=1){const f=_e(n,s,i);l[i]?l[i].p(f,r):(l[i]=De(f),l[i].c(),l[i].m(e,a))}for(;i<l.length;i+=1)l[i].d(1);l.length=s.length}n[27].length>(n[28].length>0?2:3)?o?o.p(n,r):(o=ye(n),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},d(n){n&&b(e),oe(l,n),o&&o.d()}}}function ke(t){let e,a="ðŸŽ‚";return{c(){e=T("span"),e.textContent=a,this.h()},l(s){e=w(s,"SPAN",{class:!0,"data-svelte-h":!0}),te(e)!=="svelte-bfk59y"&&(e.textContent=a),this.h()},h(){m(e,"class","mr-0.5")},m(s,l){W(s,e,l)},d(s){s&&b(e)}}}function De(t){let e,a=ie(t[32]),s,l=t[32].title+"",o,n,r,i,f=a&&ke();function E(){return t[18](t[32])}return{c(){e=T("button"),f&&f.c(),s=N(),o=j(l),this.h()},l(p){e=w(p,"BUTTON",{class:!0});var h=B(e);f&&f.l(h),s=V(h),o=U(h,l),h.forEach(b),this.h()},h(){m(e,"class",n="block w-full text-left text-xs px-1 py-0.5 rounded truncate hover:opacity-80 "+(ie(t[32])?"bg-pink-500 bg-opacity-20 text-pink-600":"bg-primary bg-opacity-20 text-primary"))},m(p,h){W(p,e,h),f&&f.m(e,null),d(e,s),d(e,o),r||(i=Z(e,"click",Ne(E)),r=!0)},p(p,h){t=p,h[0]&16&&(a=ie(t[32])),a?f||(f=ke(),f.c(),f.m(e,s)):f&&(f.d(1),f=null),h[0]&16&&l!==(l=t[32].title+"")&&x(o,l),h[0]&16&&n!==(n="block w-full text-left text-xs px-1 py-0.5 rounded truncate hover:opacity-80 "+(ie(t[32])?"bg-pink-500 bg-opacity-20 text-pink-600":"bg-primary bg-opacity-20 text-primary"))&&m(e,"class",n)},d(p){p&&b(e),f&&f.d(),r=!1,i()}}}function ye(t){let e,a,s=t[27].length-(t[28].length>0?2:3)+"",l,o;return{c(){e=T("div"),a=j("+"),l=j(s),o=j(" more"),this.h()},l(n){e=w(n,"DIV",{class:!0});var r=B(e);a=U(r,"+"),l=U(r,s),o=U(r," more"),r.forEach(b),this.h()},h(){m(e,"class","text-xs text-base-content/50 px-1")},m(n,r){W(n,e,r),d(e,a),d(e,l),d(e,o)},p(n,r){r[0]&16&&s!==(s=n[27].length-(n[28].length>0?2:3)+"")&&x(l,s)},d(n){n&&b(e)}}}function we(t){let e,a,s=t[26].getDate()+"",l,o,n,r,i,f,E,p,h=t[28].length>0&&me(t),g=t[27].length>0&&pe(t);function M(){return t[19](t[26])}return{c(){e=T("button"),a=T("div"),l=j(s),o=N(),h&&h.c(),n=N(),g&&g.c(),r=N(),this.h()},l(k){e=w(k,"BUTTON",{class:!0});var v=B(e);a=w(v,"DIV",{class:!0});var J=B(a);l=U(J,s),J.forEach(b),o=V(v),h&&h.l(v),n=V(v),g&&g.l(v),r=V(v),v.forEach(b),this.h()},h(){m(a,"class","text-xs font-medium"),H(a,"text-primary",X(t[26])),m(e,"class",i="min-h-[80px] p-1 rounded-lg transition-colors text-left "+t[29]),H(e,"bg-base-300",t[8](t[26])&&!t[29]),H(e,"bg-base-200",!t[8](t[26])&&!t[29]),H(e,"opacity-40",!t[8](t[26])),H(e,"ring-2",X(t[26])),H(e,"ring-primary",X(t[26]))},m(k,v){W(k,e,v),d(e,a),d(a,l),d(e,o),h&&h.m(e,null),d(e,n),g&&g.m(e,null),d(e,r),f=!0,E||(p=Z(e,"click",M),E=!0)},p(k,v){t=k,(!f||v[0]&16)&&s!==(s=t[26].getDate()+"")&&x(l,s),(!f||v[0]&16)&&H(a,"text-primary",X(t[26])),t[28].length>0?h?(h.p(t,v),v[0]&16&&L(h,1)):(h=me(t),h.c(),L(h,1),h.m(e,n)):h&&(re(),K(h,1,1,()=>{h=null}),ce()),t[27].length>0?g?g.p(t,v):(g=pe(t),g.c(),g.m(e,r)):g&&(g.d(1),g=null),(!f||v[0]&16&&i!==(i="min-h-[80px] p-1 rounded-lg transition-colors text-left "+t[29]))&&m(e,"class",i),(!f||v[0]&400)&&H(e,"bg-base-300",t[8](t[26])&&!t[29]),(!f||v[0]&400)&&H(e,"bg-base-200",!t[8](t[26])&&!t[29]),(!f||v[0]&272)&&H(e,"opacity-40",!t[8](t[26])),(!f||v[0]&16)&&H(e,"ring-2",X(t[26])),(!f||v[0]&16)&&H(e,"ring-primary",X(t[26]))},i(k){f||(L(h),f=!0)},o(k){K(h),f=!1},d(k){k&&b(e),h&&h.d(),g&&g.d(),E=!1,p()}}}function Te(t){let e,a,s=P(t[23]),l=[];for(let n=0;n<s.length;n+=1)l[n]=we(ge(t,s,n));const o=n=>K(l[n],1,1,()=>{l[n]=null});return{c(){for(let n=0;n<l.length;n+=1)l[n].c();e=ue()},l(n){for(let r=0;r<l.length;r+=1)l[r].l(n);e=ue()},m(n,r){for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(n,r);W(n,e,r),a=!0},p(n,r){if(r[0]&12754){s=P(n[23]);let i;for(i=0;i<s.length;i+=1){const f=ge(n,s,i);l[i]?(l[i].p(f,r),L(l[i],1)):(l[i]=we(f),l[i].c(),L(l[i],1),l[i].m(e.parentNode,e))}for(re(),i=s.length;i<l.length;i+=1)o(i);ce()}},i(n){if(!a){for(let r=0;r<s.length;r+=1)L(l[r]);a=!0}},o(n){l=l.filter(Boolean);for(let r=0;r<l.length;r+=1)K(l[r]);a=!1},d(n){n&&b(e),oe(l,n)}}}function Ce(t){let e,a,s,l=t[0].length+"",o,n,r,i,f="View All",E,p;return{c(){e=T("div"),a=T("div"),s=T("span"),o=j(l),n=j(" events this month"),r=N(),i=T("button"),i.textContent=f,this.h()},l(h){e=w(h,"DIV",{class:!0});var g=B(e);a=w(g,"DIV",{class:!0});var M=B(a);s=w(M,"SPAN",{class:!0});var k=B(s);o=U(k,l),n=U(k," events this month"),k.forEach(b),r=V(M),i=w(M,"BUTTON",{class:!0,"data-svelte-h":!0}),te(i)!=="svelte-157wdtk"&&(i.textContent=f),M.forEach(b),g.forEach(b),this.h()},h(){m(s,"class","text-sm text-base-content/60"),m(i,"class","btn btn-xs btn-ghost"),m(a,"class","flex items-center justify-between"),m(e,"class","mt-4 pt-4 border-t border-base-300")},m(h,g){W(h,e,g),d(e,a),d(a,s),d(s,o),d(s,n),d(a,r),d(a,i),E||(p=Z(i,"click",t[20]),E=!0)},p(h,g){g[0]&1&&l!==(l=h[0].length+"")&&x(o,l)},d(h){h&&b(e),E=!1,p()}}}function Le(t){let e,a,s,l,o,n=t[14][t[2]]+"",r,i,f,E,p,h="Today",g,M,k,v='<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>',J,A,le='<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>',$,Y,ee,q,_,S,z,Q,F=P(t[15]),y=[];for(let u=0;u<F.length;u+=1)y[u]=ve(be(t,F,u));let R=P(t[4]),D=[];for(let u=0;u<R.length;u+=1)D[u]=Te(de(t,R,u));const Ee=u=>K(D[u],1,1,()=>{D[u]=null});let I=t[0].length>0&&Ce(t);return{c(){e=T("div"),a=T("div"),s=T("div"),l=T("div"),o=T("h3"),r=j(n),i=N(),f=j(t[3]),E=N(),p=T("button"),p.textContent=h,g=N(),M=T("div"),k=T("button"),k.innerHTML=v,J=N(),A=T("button"),A.innerHTML=le,$=N(),Y=T("div");for(let u=0;u<y.length;u+=1)y[u].c();ee=N(),q=T("div");for(let u=0;u<D.length;u+=1)D[u].c();_=N(),I&&I.c(),this.h()},l(u){e=w(u,"DIV",{class:!0});var C=B(e);a=w(C,"DIV",{class:!0});var c=B(a);s=w(c,"DIV",{class:!0});var O=B(s);l=w(O,"DIV",{class:!0});var ne=B(l);o=w(ne,"H3",{class:!0});var se=B(o);r=U(se,n),i=V(se),f=U(se,t[3]),se.forEach(b),E=V(ne),p=w(ne,"BUTTON",{class:!0,"data-svelte-h":!0}),te(p)!=="svelte-d20hza"&&(p.textContent=h),ne.forEach(b),g=V(O),M=w(O,"DIV",{class:!0});var ae=B(M);k=w(ae,"BUTTON",{class:!0,"data-svelte-h":!0}),te(k)!=="svelte-x1xu4d"&&(k.innerHTML=v),J=V(ae),A=w(ae,"BUTTON",{class:!0,"data-svelte-h":!0}),te(A)!=="svelte-aagn4n"&&(A.innerHTML=le),ae.forEach(b),O.forEach(b),$=V(c),Y=w(c,"DIV",{class:!0});var fe=B(Y);for(let G=0;G<y.length;G+=1)y[G].l(fe);fe.forEach(b),ee=V(c),q=w(c,"DIV",{class:!0});var he=B(q);for(let G=0;G<D.length;G+=1)D[G].l(he);he.forEach(b),_=V(c),I&&I.l(c),c.forEach(b),C.forEach(b),this.h()},h(){m(o,"class","text-xl font-bold"),m(p,"class","btn btn-xs btn-ghost"),m(l,"class","flex items-center gap-2"),m(k,"class","btn btn-sm btn-ghost"),m(A,"class","btn btn-sm btn-ghost"),m(M,"class","flex items-center gap-1"),m(s,"class","flex items-center justify-between mb-4"),m(Y,"class","grid grid-cols-7 gap-1 mb-1"),m(q,"class","grid grid-cols-7 gap-1"),m(a,"class","card-body p-4"),m(e,"class","card bg-base-200 shadow-lg")},m(u,C){W(u,e,C),d(e,a),d(a,s),d(s,l),d(l,o),d(o,r),d(o,i),d(o,f),d(l,E),d(l,p),d(s,g),d(s,M),d(M,k),d(M,J),d(M,A),d(a,$),d(a,Y);for(let c=0;c<y.length;c+=1)y[c]&&y[c].m(Y,null);d(a,ee),d(a,q);for(let c=0;c<D.length;c+=1)D[c]&&D[c].m(q,null);d(a,_),I&&I.m(a,null),S=!0,z||(Q=[Z(p,"click",t[11]),Z(k,"click",t[9]),Z(A,"click",t[10])],z=!0)},p(u,C){if((!S||C[0]&4)&&n!==(n=u[14][u[2]]+"")&&x(r,n),(!S||C[0]&8)&&x(f,u[3]),C[0]&32768){F=P(u[15]);let c;for(c=0;c<F.length;c+=1){const O=be(u,F,c);y[c]?y[c].p(O,C):(y[c]=ve(O),y[c].c(),y[c].m(Y,null))}for(;c<y.length;c+=1)y[c].d(1);y.length=F.length}if(C[0]&12754){R=P(u[4]);let c;for(c=0;c<R.length;c+=1){const O=de(u,R,c);D[c]?(D[c].p(O,C),L(D[c],1)):(D[c]=Te(O),D[c].c(),L(D[c],1),D[c].m(q,null))}for(re(),c=R.length;c<D.length;c+=1)Ee(c);ce()}u[0].length>0?I?I.p(u,C):(I=Ce(u),I.c(),I.m(a,null)):I&&(I.d(1),I=null)},i(u){if(!S){for(let C=0;C<R.length;C+=1)L(D[C]);S=!0}},o(u){D=D.filter(Boolean);for(let C=0;C<D.length;C+=1)K(D[C]);S=!1},d(u){u&&b(e),oe(y,u),oe(D,u),I&&I.d(),z=!1,Me(Q)}}}function We(t,e){const a=[],s=new Date(t,e,1),l=new Date(t,e+1,0),o=new Date(s);o.setDate(o.getDate()-s.getDay());let n=[];const r=new Date(o);for(;(r<=l||n.length<7)&&(n.push(new Date(r)),n.length===7&&(a.push(n),n=[]),r.setDate(r.getDate()+1),!(a.length>=6&&n.length===0)););if(n.length>0){for(;n.length<7;)n.push(new Date(r)),r.setDate(r.getDate()+1);a.push(n)}return a}function Je(t){const e=t.some(s=>s.blockType==="hard"),a=t.some(s=>s.blockType==="soft");return e?"bg-error/10 border-l-4 border-error":a?"bg-warning/10 border-l-4 border-warning":""}function ie(t){return t.id.startsWith("birthday-")||(t.tags?.includes("birthday")??!1)}function X(t){const e=new Date;return t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}function Ye(t,e,a){let s,l,o,{events:n=[]}=e,{availabilityBlocks:r=[]}=e,{currentDate:i=new Date}=e,{onBlockClick:f=void 0}=e;const E=Ie();function p(_){const S=new Date(_);S.setHours(0,0,0,0);const z=new Date(_);z.setHours(23,59,59,999);const Q=Math.floor(S.getTime()/1e3),F=Math.floor(z.getTime()/1e3);return n.filter(y=>y.start>=Q&&y.start<=F)}function h(_){const S=new Date(_);S.setHours(0,0,0,0);const z=new Date(_);z.setHours(23,59,59,999);const Q=S.getTime(),F=z.getTime();return r.filter(y=>y.start<F&&y.end>Q)}function g(_){return _.getMonth()===l}function M(){a(16,i=new Date(s,l-1,1))}function k(){a(16,i=new Date(s,l+1,1))}function v(){a(16,i=new Date)}function J(_){E("dayClick",_)}function A(_){E("eventClick",_)}const le=["January","February","March","April","May","June","July","August","September","October","November","December"],$=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Y=_=>A(_),ee=_=>J(_),q=()=>E("viewAll");return t.$$set=_=>{"events"in _&&a(0,n=_.events),"availabilityBlocks"in _&&a(17,r=_.availabilityBlocks),"currentDate"in _&&a(16,i=_.currentDate),"onBlockClick"in _&&a(1,f=_.onBlockClick)},t.$$.update=()=>{t.$$.dirty[0]&65536&&a(3,s=i.getFullYear()),t.$$.dirty[0]&65536&&a(2,l=i.getMonth()),t.$$.dirty[0]&12&&new Date(s,l+1,0).getDate(),t.$$.dirty[0]&12&&new Date(s,l,1).getDay(),t.$$.dirty[0]&12&&a(4,o=We(s,l))},[n,f,l,s,o,E,p,h,g,M,k,v,J,A,le,$,i,r,Y,ee,q]}class Ge extends Se{constructor(e){super(),He(this,e,Ye,Le,Be,{events:0,availabilityBlocks:17,currentDate:16,onBlockClick:1},null,[-1,-1])}}export{Ge as E};
