import{s as le,n as ae,d as o,i as L,b as l,q as ne,l as s,c as d,e as v,o as A,g as k,f as B,h as u,j as x,t as K,C as oe,p as ie,E as ce,u as Y,v as q}from"./CwRy9Tox.js";import{S as de,i as ue}from"./D-vqeeah.js";import{e as ve}from"./C2qzPOg1.js";import{c as pe}from"./31tQ-Gc1.js";function he(p){let e,r,t;return{c(){e=q("svg"),r=q("path"),t=K(`
            Copy Public Key`),this.h()},l(a){e=Y(a,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0});var n=v(e);r=Y(n,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),v(r).forEach(o),n.forEach(o),t=B(a,`
            Copy Public Key`),this.h()},h(){s(r,"stroke-linecap","round"),s(r,"stroke-linejoin","round"),s(r,"stroke-width","2"),s(r,"d","M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"),s(e,"xmlns","http://www.w3.org/2000/svg"),s(e,"class","h-4 w-4"),s(e,"fill","none"),s(e,"viewBox","0 0 24 24"),s(e,"stroke","currentColor")},m(a,n){L(a,e,n),l(e,r),L(a,t,n)},d(a){a&&(o(e),o(t))}}}function fe(p){let e,r,t;return{c(){e=q("svg"),r=q("path"),t=K(`
            Copied!`),this.h()},l(a){e=Y(a,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0});var n=v(e);r=Y(n,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),v(r).forEach(o),n.forEach(o),t=B(a,`
            Copied!`),this.h()},h(){s(r,"stroke-linecap","round"),s(r,"stroke-linejoin","round"),s(r,"stroke-width","2"),s(r,"d","M5 13l4 4L19 7"),s(e,"xmlns","http://www.w3.org/2000/svg"),s(e,"class","h-4 w-4"),s(e,"fill","none"),s(e,"viewBox","0 0 24 24"),s(e,"stroke","currentColor")},m(a,n){L(a,e,n),l(e,r),L(a,t,n)},d(a){a&&(o(e),o(t))}}}function me(p){let e,r,t,a,n='<div class="relative"><div class="w-24 h-24 rounded-full bg-primary/20 flex items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-primary animate-pulse" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div> <div class="absolute inset-0 rounded-full border-4 border-primary border-t-transparent animate-spin"></div></div>',y,h,_,j=p[3]()+"",E,T,w,z='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current shrink-0 w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <div class="text-sm"><p class="font-bold">Your account has been created!</p> <p>An administrator needs to approve your access before you can join. This usually takes a few minutes.</p></div>',c,f,C,R="Your Public Key:",F,D,W,N,g,O,I,X=`<p class="flex items-center gap-2"><span class="loading loading-ring loading-xs"></span>
          Waiting for admin approval</p> <p class="flex items-center gap-2"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
          Your keys are saved locally</p> <p class="flex items-center gap-2"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path></svg>
          Keep your recovery phrase safe</p>`,U,V,G,M,Z="You can close this page and check back later. Your account will be ready once approved.",J,$;function ee(m,H){return m[0]?fe:he}let S=ee(p),b=S(p);return{c(){e=u("div"),r=u("div"),t=u("div"),a=u("div"),a.innerHTML=n,y=x(),h=u("h2"),_=K("Pending Admin Approval"),E=K(j),T=x(),w=u("div"),w.innerHTML=z,c=x(),f=u("div"),C=u("h3"),C.textContent=R,F=x(),D=u("div"),W=K(p[1]),N=x(),g=u("button"),b.c(),O=x(),I=u("div"),I.innerHTML=X,U=x(),V=u("div"),G=x(),M=u("p"),M.textContent=Z,this.h()},l(m){e=d(m,"DIV",{class:!0});var H=v(e);r=d(H,"DIV",{class:!0});var te=v(r);t=d(te,"DIV",{class:!0});var i=v(t);a=d(i,"DIV",{class:!0,"data-svelte-h":!0}),A(a)!=="svelte-hk5023"&&(a.innerHTML=n),y=k(i),h=d(i,"H2",{class:!0});var Q=v(h);_=B(Q,"Pending Admin Approval"),E=B(Q,j),Q.forEach(o),T=k(i),w=d(i,"DIV",{class:!0,"data-svelte-h":!0}),A(w)!=="svelte-1x9j6vt"&&(w.innerHTML=z),c=k(i),f=d(i,"DIV",{class:!0});var P=v(f);C=d(P,"H3",{class:!0,"data-svelte-h":!0}),A(C)!=="svelte-1blnqpr"&&(C.textContent=R),F=k(P),D=d(P,"DIV",{class:!0});var se=v(D);W=B(se,p[1]),se.forEach(o),N=k(P),g=d(P,"BUTTON",{class:!0});var re=v(g);b.l(re),re.forEach(o),P.forEach(o),O=k(i),I=d(i,"DIV",{class:!0,"data-svelte-h":!0}),A(I)!=="svelte-1wh6cvt"&&(I.innerHTML=X),U=k(i),V=d(i,"DIV",{class:!0}),v(V).forEach(o),G=k(i),M=d(i,"P",{class:!0,"data-svelte-h":!0}),A(M)!=="svelte-1mmv0uz"&&(M.textContent=Z),i.forEach(o),te.forEach(o),H.forEach(o),this.h()},h(){s(a,"class","flex justify-center mb-4"),s(h,"class","card-title text-2xl justify-center mb-2"),s(w,"class","alert alert-info mb-4"),s(C,"class","font-semibold text-sm mb-2"),s(D,"class","bg-base-100 rounded p-3 mb-3 break-all font-mono text-xs"),s(g,"class","btn btn-outline btn-sm btn-block gap-2"),s(f,"class","bg-base-200 rounded-lg p-4 mb-4"),s(I,"class","flex flex-col gap-2 text-sm text-base-content/70"),s(V,"class","divider"),s(M,"class","text-center text-sm text-base-content/70"),s(t,"class","card-body"),s(r,"class","card w-full max-w-lg bg-base-100 shadow-xl"),s(e,"class","flex flex-col items-center justify-center min-h-screen p-4 bg-base-200")},m(m,H){L(m,e,H),l(e,r),l(r,t),l(t,a),l(t,y),l(t,h),l(h,_),l(h,E),l(t,T),l(t,w),l(t,c),l(t,f),l(f,C),l(f,F),l(f,D),l(D,W),l(f,N),l(f,g),b.m(g,null),l(t,O),l(t,I),l(t,U),l(t,V),l(t,G),l(t,M),J||($=ne(g,"click",p[2]),J=!0)},p(m,[H]){S!==(S=ee(m))&&(b.d(1),b=S(m),b&&(b.c(),b.m(g,null)))},i:ae,o:ae,d(m){m&&o(e),b.d(),J=!1,$()}}}function we(p,e,r){let{publicKey:t}=e;const a=oe();let n=!1,y=0,h,_,j=!1;const E=ve(t);ie(()=>{h=setInterval(()=>{y=(y+1)%4},500),_=setInterval(async()=>{await T()},1e4),T()}),ce(()=>{h&&clearInterval(h),_&&clearInterval(_)});async function T(){if(!j){j=!0;try{const c=await pe(t);(c.isApproved||c.isAdmin)&&a("approved")}catch(c){console.error("Failed to check approval status:",c)}finally{j=!1}}}async function w(){try{await navigator.clipboard.writeText(E),r(0,n=!0),setTimeout(()=>{r(0,n=!1)},2e3)}catch(c){console.error("Failed to copy:",c)}}const z=()=>".".repeat(y);return p.$$set=c=>{"publicKey"in c&&r(4,t=c.publicKey)},[n,E,w,z,t]}class ye extends de{constructor(e){super(),ue(this,e,we,me,le,{publicKey:4})}}export{ye as P};
