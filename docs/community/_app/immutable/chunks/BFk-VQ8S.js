import{a as j,t as q}from"./D-vqeeah.js";import{r as z}from"./CwRy9Tox.js";function F(n){return n?.length!==void 0?n:Array.from(n)}function G(n,o){n.d(1),o.delete(n.key)}function B(n,o){q(n,1,1,()=>{o.delete(n.key)})}function H(n,o){n.f(),B(n,o)}function I(n,o,M,C,v,y,c,x,m,S,_,A){let i=n.length,d=y.length,a=i;const h={};for(;a--;)h[n[a].key]=a;const f=[],r=new Map,u=new Map,g=[];for(a=d;a--;){const e=A(v,y,a),t=M(e);let s=c.get(t);s?g.push(()=>s.p(e,o)):(s=S(t,e),s.c()),r.set(t,f[a]=s),t in h&&u.set(t,Math.abs(a-h[t]))}const p=new Set,k=new Set;function w(e){j(e,1),e.m(x,_),c.set(e.key,e),_=e.first,d--}for(;i&&d;){const e=f[d-1],t=n[i-1],s=e.key,l=t.key;e===t?(_=e.first,i--,d--):r.has(l)?!c.has(s)||p.has(s)?w(e):k.has(l)?i--:u.get(s)>u.get(l)?(k.add(s),w(e)):(p.add(l),i--):(m(t,c),i--)}for(;i--;){const e=n[i];r.has(e.key)||m(e,c)}for(;d;)w(f[d-1]);return z(g),f}export{G as d,F as e,H as f,B as o,I as u};
