import{s as G,n as z,d as u,i as T,b as i,l as _,m as X,g as I,c as v,e as C,f as j,o as H,j as L,h as p,t as V,k as Y,p as Z,r as $,q as B,a as ee}from"../chunks/CwRy9Tox.js";import{S as te,i as se}from"../chunks/D-vqeeah.js";import{g as q}from"../chunks/BZgxvzt3.js";import{b as K}from"../chunks/CEc-lP5l.js";import{g as ae,a as O,i as ne}from"../chunks/BVL4R8vY.js";import{r as le,a as F}from"../chunks/BiZSf_U7.js";function R(r){let s,e,n,l="üõ†Ô∏è Development Mode",o,h,N="Quick login for testing (only visible in dev mode)",S,w,E,f,m,A,b,D,c,x,t=r[1]&&J(r),a=r[0]&&Q(),d=r[0]&&W();return{c(){s=p("div"),e=p("div"),n=p("h3"),n.textContent=l,o=L(),h=p("p"),h.textContent=N,S=L(),t&&t.c(),w=L(),E=p("div"),f=p("button"),a&&a.c(),m=V(`
							Login as Admin`),A=L(),b=p("button"),d&&d.c(),D=V(`
							Login as Test User`),this.h()},l(y){s=v(y,"DIV",{class:!0});var g=C(s);e=v(g,"DIV",{class:!0});var k=C(e);n=v(k,"H3",{class:!0,"data-svelte-h":!0}),H(n)!=="svelte-jzxwbo"&&(n.textContent=l),o=I(k),h=v(k,"P",{class:!0,"data-svelte-h":!0}),H(h)!=="svelte-jbzi6f"&&(h.textContent=N),S=I(k),t&&t.l(k),w=I(k),E=v(k,"DIV",{class:!0});var P=C(E);f=v(P,"BUTTON",{class:!0});var M=C(f);a&&a.l(M),m=j(M,`
							Login as Admin`),M.forEach(u),A=I(P),b=v(P,"BUTTON",{class:!0});var U=C(b);d&&d.l(U),D=j(U,`
							Login as Test User`),U.forEach(u),P.forEach(u),k.forEach(u),g.forEach(u),this.h()},h(){_(n,"class","card-title text-warning text-lg justify-center"),_(h,"class","text-sm text-center text-base-content/70 mb-4"),_(f,"class","btn btn-warning"),f.disabled=r[0],_(b,"class","btn btn-outline btn-warning"),b.disabled=r[0],_(E,"class","flex flex-wrap gap-3 justify-center"),_(e,"class","card-body"),_(s,"class","card bg-warning/10 border border-warning/30 mt-8")},m(y,g){T(y,s,g),i(s,e),i(e,n),i(e,o),i(e,h),i(e,S),t&&t.m(e,null),i(e,w),i(e,E),i(E,f),a&&a.m(f,null),i(f,m),i(E,A),i(E,b),d&&d.m(b,null),i(b,D),c||(x=[B(f,"click",r[6]),B(b,"click",r[7])],c=!0)},p(y,g){y[1]?t?t.p(y,g):(t=J(y),t.c(),t.m(e,w)):t&&(t.d(1),t=null),y[0]?a||(a=Q(),a.c(),a.m(f,m)):a&&(a.d(1),a=null),g&1&&(f.disabled=y[0]),y[0]?d||(d=W(),d.c(),d.m(b,D)):d&&(d.d(1),d=null),g&1&&(b.disabled=y[0])},d(y){y&&u(s),t&&t.d(),a&&a.d(),d&&d.d(),c=!1,$(x)}}}function J(r){let s,e,n;return{c(){s=p("div"),e=p("span"),n=V(r[1]),this.h()},l(l){s=v(l,"DIV",{class:!0});var o=C(s);e=v(o,"SPAN",{});var h=C(e);n=j(h,r[1]),h.forEach(u),o.forEach(u),this.h()},h(){_(s,"class","alert alert-error mb-4")},m(l,o){T(l,s,o),i(s,e),i(e,n)},p(l,o){o&2&&ee(n,l[1])},d(l){l&&u(s)}}}function Q(r){let s;return{c(){s=p("span"),this.h()},l(e){s=v(e,"SPAN",{class:!0}),C(s).forEach(u),this.h()},h(){_(s,"class","loading loading-spinner loading-sm")},m(e,n){T(e,s,n)},d(e){e&&u(s)}}}function W(r){let s;return{c(){s=p("span"),this.h()},l(e){s=v(e,"SPAN",{class:!0}),C(s).forEach(u),this.h()},h(){_(s,"class","loading loading-spinner loading-sm")},m(e,n){T(e,s,n)},d(e){e&&u(s)}}}function ie(r){let s,e,n,l,o,h,N,S,w,E,f,m,A=`<div class="card-body"><h2 class="card-title text-2xl justify-center">Welcome</h2> <p class="text-base-content/70">A private space for our community to connect, share, and grow together.</p> <div class="card-actions justify-center mt-4 flex-wrap gap-3"><a href="${K}/signup" class="btn btn-primary btn-lg">Join Us</a> <a href="${K}/login" class="btn btn-outline btn-lg">Sign In</a></div></div>`,b,D,c='<div class="card bg-base-200"><div class="card-body items-center text-center"><div class="text-4xl mb-2">üë®‚Äçüë©‚Äçüëß‚Äçüë¶</div> <h3 class="card-title text-lg">Community Spaces</h3> <p class="text-sm text-base-content/70">Dedicated zones for family, friends, and shared interests.</p></div></div> <div class="card bg-base-200"><div class="card-body items-center text-center"><div class="text-4xl mb-2">üí¨</div> <h3 class="card-title text-lg">Private Conversations</h3> <p class="text-sm text-base-content/70">Secure messaging that stays between you and your people.</p></div></div> <div class="card bg-base-200"><div class="card-body items-center text-center"><div class="text-4xl mb-2">üìÖ</div> <h3 class="card-title text-lg">Events &amp; Calendar</h3> <p class="text-sm text-base-content/70">Plan gatherings and keep everyone in the loop.</p></div></div>',x;document.title=s=r[3].name;let t=r[2]&&R(r);return{c(){e=L(),n=p("div"),l=p("div"),o=p("div"),h=p("h1"),N=V(r[4]),S=L(),w=p("p"),E=V(r[5]),f=L(),m=p("div"),m.innerHTML=A,b=L(),D=p("div"),D.innerHTML=c,x=L(),t&&t.c(),this.h()},l(a){X("svelte-vevsda",document.head).forEach(u),e=I(a),n=v(a,"DIV",{class:!0});var y=C(n);l=v(y,"DIV",{class:!0});var g=C(l);o=v(g,"DIV",{class:!0});var k=C(o);h=v(k,"H1",{class:!0});var P=C(h);N=j(P,r[4]),P.forEach(u),S=I(k),w=v(k,"P",{class:!0});var M=C(w);E=j(M,r[5]),M.forEach(u),k.forEach(u),f=I(g),m=v(g,"DIV",{class:!0,"data-svelte-h":!0}),H(m)!=="svelte-wsqqd3"&&(m.innerHTML=A),b=I(g),D=v(g,"DIV",{class:!0,"data-svelte-h":!0}),H(D)!=="svelte-p4obx5"&&(D.innerHTML=c),x=I(g),t&&t.l(g),g.forEach(u),y.forEach(u),this.h()},h(){_(h,"class","text-6xl font-bold gradient-text"),_(w,"class","text-xl text-base-content/70"),_(o,"class","space-y-4"),_(m,"class","card bg-base-200 shadow-xl"),_(D,"class","grid grid-cols-1 md:grid-cols-3 gap-4 mt-8"),_(l,"class","max-w-2xl w-full space-y-8 text-center"),_(n,"class","flex flex-col items-center justify-center min-h-screen p-4")},m(a,d){T(a,e,d),T(a,n,d),i(n,l),i(l,o),i(o,h),i(h,N),i(o,S),i(o,w),i(w,E),i(l,f),i(l,m),i(l,b),i(l,D),i(l,x),t&&t.m(l,null)},p(a,[d]){d&8&&s!==(s=a[3].name)&&(document.title=s),a[2]?t?t.p(a,d):(t=R(a),t.c(),t.m(l,null)):t&&(t.d(1),t=null)},i:z,o:z,d(a){a&&(u(e),u(n)),t&&t.d()}}}function re(r,s,e){let n;Y(r,ne,c=>e(8,n=c));const l=ae(),o=l.name.split(" - "),h=o[0],N=o.slice(1).join(" - ")||"Nostr Community",S="",w="",E=!!w;let f=!1,m="",A=!1;Z(()=>{const x=new URLSearchParams(window.location.search).has("dev");e(2,A=x&&E),n&&q(`${K}/chat`)});async function b(){if(A){e(0,f=!0),e(1,m="");try{let c,x;try{const t=le(S);c=t.publicKey,x=t.privateKey}catch{const t=await F(w);c=t.publicKey,x=t.privateKey}await O.setKeys(c,x),q(`${K}/chat`)}catch(c){e(1,m=c instanceof Error?c.message:"Dev login failed"),console.error("Dev login error:",c)}finally{e(0,f=!1)}}}async function D(){if(A){e(0,f=!0),e(1,m="");try{const c="test user seed phrase for development only not secure at all okay",x=await F("abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon about");await O.setKeys(x.publicKey,x.privateKey),q(`${K}/chat`)}catch(c){e(1,m=c instanceof Error?c.message:"Dev login failed"),console.error("Dev login error:",c)}finally{e(0,f=!1)}}}return[f,m,A,l,h,N,b,D]}class me extends te{constructor(s){super(),se(this,s,re,ie,G,{})}}export{me as component};
