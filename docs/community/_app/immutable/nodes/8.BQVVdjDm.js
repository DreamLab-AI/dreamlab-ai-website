import{s as Rt,d as r,z as Pt,r as xt,A as _e,a as O,i as V,b as a,q as je,l as c,m as Ut,g as w,c as h,e as b,o as Y,f as N,j as D,h as v,t as P,k as Re,p as qt,x as Ye,n as fe,u as lt,v as st}from"../chunks/CwRy9Tox.js";import{S as Yt,i as Wt,d as zt,t as Ue,a as qe,c as Jt,m as Ft,b as Kt,e as Ot,g as Zt}from"../chunks/D-vqeeah.js";import{e as Se,u as Gt,d as Qt}from"../chunks/BFk-VQ8S.js";import{g as nt}from"../chunks/CQ8JIY5d.js";import{b as at}from"../chunks/Box6chXe.js";import{p as Xt}from"../chunks/ac69Psw1.js";import{g as $t,a as Dt,b as el,c as tl,d as ll}from"../chunks/CHLmt3N8.js";import{u as sl}from"../chunks/Cz6ajzO7.js";import{u as nl}from"../chunks/4dFzpEhj.js";import{isConnected as al,connectRelay as il}from"../chunks/2VJMwIkg.js";import{R as rl}from"../chunks/C_zicc2g.js";import{g as ol,f as cl}from"../chunks/-66igRMb.js";import{f as dl}from"../chunks/C5o44yYn.js";import{g as fl}from"../chunks/DIMTxNM6.js";import{B as ul}from"../chunks/BFgplg1u.js";import{E as hl}from"../chunks/CzumKNeM.js";function It(n,e,l){const t=n.slice();return t[30]=e[l],t}function Vt(n,e,l){const t=n.slice();return t[33]=e[l],t}function St(n,e,l){const t=n.slice();return t[36]=e[l],t}function vl(n){let e;return{c(){e=P("Section Calendar")},l(l){e=N(l,"Section Calendar")},m(l,t){V(l,e,t)},p:fe,d(l){l&&r(e)}}}function _l(n){let e,l=n[2].icon+"",t,s,o=n[2].name+"",i,f;return{c(){e=v("span"),t=P(l),s=D(),i=P(o),f=P(" Calendar"),this.h()},l(d){e=h(d,"SPAN",{class:!0});var p=b(e);t=N(p,l),p.forEach(r),s=w(d),i=N(d,o),f=N(d," Calendar"),this.h()},h(){c(e,"class","mr-2")},m(d,p){V(d,e,p),a(e,t),V(d,s,p),V(d,i,p),V(d,f,p)},p(d,p){p[0]&4&&l!==(l=d[2].icon+"")&&O(t,l),p[0]&4&&o!==(o=d[2].name+"")&&O(i,o)},d(d){d&&(r(e),r(s),r(i),r(f))}}}function Mt(n){let e=n[2].description+"",l;return{c(){l=P(e)},l(t){l=N(t,e)},m(t,s){V(t,l,s)},p(t,s){s[0]&4&&e!==(e=t[2].description+"")&&O(l,e)},d(t){t&&r(l)}}}function Tt(n){let e,l="Availability Only - Join section for details";return{c(){e=v("div"),e.textContent=l,this.h()},l(t){e=h(t,"DIV",{class:!0,"data-svelte-h":!0}),Y(e)!=="svelte-pt7oyk"&&(e.textContent=l),this.h()},h(){c(e,"class","badge badge-warning mt-2")},m(t,s){V(t,e,s)},d(t){t&&r(e)}}}function jt(n){let e,l,t=n[36].icon+"",s,o,i,f=n[36].name+"",d,p,k,_;function E(){return n[22](n[33],n[36])}return{c(){e=v("button"),l=v("span"),s=P(t),o=D(),i=v("span"),d=P(f),p=D(),this.h()},l(m){e=h(m,"BUTTON",{class:!0});var C=b(e);l=h(C,"SPAN",{});var M=b(l);s=N(M,t),M.forEach(r),o=w(C),i=h(C,"SPAN",{class:!0});var S=b(i);d=N(S,f),S.forEach(r),p=w(C),C.forEach(r),this.h()},h(){c(i,"class","truncate"),c(e,"class","btn btn-sm btn-block justify-start gap-2"),_e(e,"btn-primary",n[1]===n[36].id),_e(e,"btn-ghost",n[1]!==n[36].id)},m(m,C){V(m,e,C),a(e,l),a(l,s),a(e,o),a(e,i),a(i,d),a(e,p),k||(_=je(e,"click",E),k=!0)},p(m,C){n=m,C[0]&512&&t!==(t=n[36].icon+"")&&O(s,t),C[0]&512&&f!==(f=n[36].name+"")&&O(d,f),C[0]&514&&_e(e,"btn-primary",n[1]===n[36].id),C[0]&514&&_e(e,"btn-ghost",n[1]!==n[36].id)},d(m){m&&r(e),k=!1,_()}}}function At(n){let e,l=n[33].icon+"",t,s,o=n[33].name+"",i,f,d,p=Se(n[33].sections||[]),k=[];for(let _=0;_<p.length;_+=1)k[_]=jt(St(n,p,_));return{c(){e=v("div"),t=P(l),s=D(),i=P(o),f=D();for(let _=0;_<k.length;_+=1)k[_].c();d=Ye(),this.h()},l(_){e=h(_,"DIV",{class:!0});var E=b(e);t=N(E,l),s=w(E),i=N(E,o),E.forEach(r),f=w(_);for(let m=0;m<k.length;m+=1)k[m].l(_);d=Ye(),this.h()},h(){c(e,"class","text-xs text-base-content/60 uppercase font-semibold mt-2")},m(_,E){V(_,e,E),a(e,t),a(e,s),a(e,i),V(_,f,E);for(let m=0;m<k.length;m+=1)k[m]&&k[m].m(_,E);V(_,d,E)},p(_,E){if(E[0]&512&&l!==(l=_[33].icon+"")&&O(t,l),E[0]&512&&o!==(o=_[33].name+"")&&O(i,o),E[0]&16898){p=Se(_[33].sections||[]);let m;for(m=0;m<p.length;m+=1){const C=St(_,p,m);k[m]?k[m].p(C,E):(k[m]=jt(C),k[m].c(),k[m].m(d.parentNode,d))}for(;m<k.length;m+=1)k[m].d(1);k.length=p.length}},d(_){_&&(r(e),r(f),r(d)),Pt(k,_)}}}function ml(n){let e,l="No Access";return{c(){e=v("div"),e.textContent=l,this.h()},l(t){e=h(t,"DIV",{class:!0,"data-svelte-h":!0}),Y(e)!=="svelte-1po76a1"&&(e.textContent=l),this.h()},h(){c(e,"class","badge badge-error")},m(t,s){V(t,e,s)},d(t){t&&r(e)}}}function pl(n){let e,l="Availability Only";return{c(){e=v("div"),e.textContent=l,this.h()},l(t){e=h(t,"DIV",{class:!0,"data-svelte-h":!0}),Y(e)!=="svelte-jfdaej"&&(e.textContent=l),this.h()},h(){c(e,"class","badge badge-warning")},m(t,s){V(t,e,s)},d(t){t&&r(e)}}}function bl(n){let e,l="Full Access";return{c(){e=v("div"),e.textContent=l,this.h()},l(t){e=h(t,"DIV",{class:!0,"data-svelte-h":!0}),Y(e)!=="svelte-v6p18s"&&(e.textContent=l),this.h()},h(){c(e,"class","badge badge-success")},m(t,s){V(t,e,s)},d(t){t&&r(e)}}}function Lt(n){let e,l="You can create events in this section";return{c(){e=v("p"),e.textContent=l,this.h()},l(t){e=h(t,"P",{class:!0,"data-svelte-h":!0}),Y(e)!=="svelte-1qfffpm"&&(e.textContent=l),this.h()},h(){c(e,"class","text-xs text-base-content/60 mt-2")},m(t,s){V(t,e,s)},d(t){t&&r(e)}}}function gl(n){let e;function l(o,i){return o[8].length===0?wl:Cl}let t=l(n),s=t(n);return{c(){e=v("div"),s.c(),this.h()},l(o){e=h(o,"DIV",{class:!0});var i=b(e);s.l(i),i.forEach(r),this.h()},h(){c(e,"class","space-y-3")},m(o,i){V(o,e,i),s.m(e,null)},p(o,i){t===(t=l(o))&&s?s.p(o,i):(s.d(1),s=t(o),s&&(s.c(),s.m(e,null)))},i:fe,o:fe,d(o){o&&r(e),s.d()}}}function kl(n){let e,l;return e=new hl({props:{events:n[8],availabilityBlocks:n[3],currentDate:n[12]}}),e.$on("eventClick",n[13]),e.$on("dayClick",Il),{c(){Ot(e.$$.fragment)},l(t){Kt(e.$$.fragment,t)},m(t,s){Ft(e,t,s),l=!0},p(t,s){const o={};s[0]&256&&(o.events=t[8]),s[0]&8&&(o.availabilityBlocks=t[3]),e.$set(o)},i(t){l||(qe(e.$$.fragment,t),l=!0)},o(t){Ue(e.$$.fragment,t),l=!1},d(t){zt(e,t)}}}function yl(n){let e,l,t;return{c(){e=v("div"),l=v("span"),t=P(n[5]),this.h()},l(s){e=h(s,"DIV",{class:!0});var o=b(e);l=h(o,"SPAN",{});var i=b(l);t=N(i,n[5]),i.forEach(r),o.forEach(r),this.h()},h(){c(e,"class","alert alert-error")},m(s,o){V(s,e,o),a(e,l),a(l,t)},p(s,o){o[0]&32&&O(t,s[5])},i:fe,o:fe,d(s){s&&r(e)}}}function El(n){let e,l='<span class="loading loading-spinner loading-lg text-primary"></span>';return{c(){e=v("div"),e.innerHTML=l,this.h()},l(t){e=h(t,"DIV",{class:!0,"data-svelte-h":!0}),Y(e)!=="svelte-x7gtd4"&&(e.innerHTML=l),this.h()},h(){c(e,"class","flex justify-center items-center min-h-[400px]")},m(t,s){V(t,e,s)},p:fe,i:fe,o:fe,d(t){t&&r(e)}}}function Cl(n){let e=[],l=new Map,t,s=Se(n[8]);const o=i=>i[30].id;for(let i=0;i<s.length;i+=1){let f=It(n,s,i),d=o(f);l.set(d,e[i]=Nt(d,f))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();t=Ye()},l(i){for(let f=0;f<e.length;f+=1)e[f].l(i);t=Ye()},m(i,f){for(let d=0;d<e.length;d+=1)e[d]&&e[d].m(i,f);V(i,t,f)},p(i,f){f[0]&8576&&(s=Se(i[8]),e=Gt(e,f,o,1,i,s,l,t.parentNode,Qt,Nt,t,It))},d(i){i&&r(t);for(let f=0;f<e.length;f+=1)e[f].d(i)}}}function wl(n){let e,l='<div class="card-body items-center text-center"><p class="text-base-content/70">No events in this section</p></div>';return{c(){e=v("div"),e.innerHTML=l,this.h()},l(t){e=h(t,"DIV",{class:!0,"data-svelte-h":!0}),Y(e)!=="svelte-19dbwjo"&&(e.innerHTML=l),this.h()},h(){c(e,"class","card bg-base-200")},m(t,s){V(t,e,s)},p:fe,d(t){t&&r(e)}}}function Bt(n){let e,l=n[30].description+"",t;return{c(){e=v("p"),t=P(l),this.h()},l(s){e=h(s,"P",{class:!0});var o=b(e);t=N(o,l),o.forEach(r),this.h()},h(){c(e,"class","text-sm text-base-content/70 line-clamp-2 mt-1")},m(s,o){V(s,e,o),a(e,t)},p(s,o){o[0]&256&&l!==(l=s[30].description+"")&&O(t,l)},d(s){s&&r(e)}}}function Ht(n){let e,l,t,s,o,i=n[30].location+"",f;return{c(){e=v("div"),l=st("svg"),t=st("path"),s=st("path"),o=D(),f=P(i),this.h()},l(d){e=h(d,"DIV",{class:!0});var p=b(e);l=lt(p,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0});var k=b(l);t=lt(k,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),b(t).forEach(r),s=lt(k,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),b(s).forEach(r),k.forEach(r),o=w(p),f=N(p,i),p.forEach(r),this.h()},h(){c(t,"stroke-linecap","round"),c(t,"stroke-linejoin","round"),c(t,"stroke-width","2"),c(t,"d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"),c(s,"stroke-linecap","round"),c(s,"stroke-linejoin","round"),c(s,"stroke-width","2"),c(s,"d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"),c(l,"xmlns","http://www.w3.org/2000/svg"),c(l,"class","h-4 w-4"),c(l,"fill","none"),c(l,"viewBox","0 0 24 24"),c(l,"stroke","currentColor"),c(e,"class","flex items-center gap-1 text-sm text-base-content/60 mt-2")},m(d,p){V(d,e,p),a(e,l),a(l,t),a(l,s),a(e,o),a(e,f)},p(d,p){p[0]&256&&i!==(i=d[30].location+"")&&O(f,i)},d(d){d&&r(e)}}}function Nt(n,e){let l,t,s,o,i,f=e[30].title+"",d,p,k,_,E,m=new Date(e[30].start*1e3).toLocaleDateString()+"",C,M,S,G=new Date(e[30].start*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})+"",ee,j,te,re,z,y=e[7]==="full"&&e[30].description&&Bt(e),I=e[7]==="full"&&e[30].location&&Ht(e);function W(){return e[24](e[30])}function le(...R){return e[25](e[30],...R)}return{key:n,first:null,c(){l=v("div"),t=v("div"),s=v("div"),o=v("div"),i=v("h3"),d=P(f),p=D(),y&&y.c(),k=D(),_=v("div"),E=v("div"),C=P(m),M=D(),S=v("div"),ee=P(G),j=D(),I&&I.c(),te=D(),this.h()},l(R){l=h(R,"DIV",{class:!0,role:!0,tabindex:!0});var L=b(l);t=h(L,"DIV",{class:!0});var U=b(t);s=h(U,"DIV",{class:!0});var ae=b(s);o=h(ae,"DIV",{});var J=b(o);i=h(J,"H3",{class:!0});var Z=b(i);d=N(Z,f),Z.forEach(r),p=w(J),y&&y.l(J),J.forEach(r),k=w(ae),_=h(ae,"DIV",{class:!0});var g=b(_);E=h(g,"DIV",{class:!0});var T=b(E);C=N(T,m),T.forEach(r),M=w(g),S=h(g,"DIV",{class:!0});var Q=b(S);ee=N(Q,G),Q.forEach(r),g.forEach(r),ae.forEach(r),j=w(U),I&&I.l(U),U.forEach(r),te=w(L),L.forEach(r),this.h()},h(){c(i,"class","font-bold"),c(E,"class","font-medium"),c(S,"class","text-base-content/60"),c(_,"class","text-right text-sm"),c(s,"class","flex items-start justify-between"),c(t,"class","card-body p-4"),c(l,"class","card bg-base-200 hover:bg-base-300 cursor-pointer transition-colors"),c(l,"role","button"),c(l,"tabindex","0"),this.first=l},m(R,L){V(R,l,L),a(l,t),a(t,s),a(s,o),a(o,i),a(i,d),a(o,p),y&&y.m(o,null),a(s,k),a(s,_),a(_,E),a(E,C),a(_,M),a(_,S),a(S,ee),a(t,j),I&&I.m(t,null),a(l,te),re||(z=[je(l,"click",W),je(l,"keydown",le)],re=!0)},p(R,L){e=R,L[0]&256&&f!==(f=e[30].title+"")&&O(d,f),e[7]==="full"&&e[30].description?y?y.p(e,L):(y=Bt(e),y.c(),y.m(o,null)):y&&(y.d(1),y=null),L[0]&256&&m!==(m=new Date(e[30].start*1e3).toLocaleDateString()+"")&&O(C,m),L[0]&256&&G!==(G=new Date(e[30].start*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})+"")&&O(ee,G),e[7]==="full"&&e[30].location?I?I.p(e,L):(I=Ht(e),I.c(),I.m(t,null)):I&&(I.d(1),I=null)},d(R){R&&r(l),y&&y.d(),I&&I.d(),re=!1,xt(z)}}}function Dl(n){let e,l,t,s,o,i,f,d,p,k,_,E,m,C,M,S,G='<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>',ee,j,te='<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 10h16M4 14h16M4 18h16"></path></svg>',re,z,y,I,W,le,R="Section Calendars",L,U,ae,J,Z,g,T="Event Stats",Q,ie,ue,me,it="Total Events",We,ye,Me=n[0].length+"",Ae,Je,he,pe,rt="Upcoming",Ze,Ee,Te=n[0].filter(n[23]).length+"",Le,Ge,Ce,se,be,ot="Access Level",Qe,ge,Xe,$e,ke,X,$,oe,et,ct;document.title=e=(n[2]?.name||"Section")+" Calendar - "+n[11].name,s=new ul({props:{items:n[10]}});function dt(u,A){return u[2]?_l:vl}let Be=dt(n),ne=Be(n),x=n[2]&&Mt(n),F=n[7]==="availability"&&Tt(),we=Se(n[9]),B=[];for(let u=0;u<we.length;u+=1)B[u]=At(Vt(n,we,u));function ft(u,A){return u[7]==="full"?bl:u[7]==="availability"?pl:ml}let He=ft(n),ce=He(n),K=n[2]?.calendar?.canCreate&&n[7]==="full"&&Lt();const ut=[El,yl,kl,gl],ve=[];function ht(u,A){return u[4]?0:u[5]?1:u[6]==="calendar"?2:3}return X=ht(n),$=ve[X]=ut[X](n),{c(){l=D(),t=v("div"),Ot(s.$$.fragment),o=D(),i=v("div"),f=v("div"),d=v("div"),p=v("h1"),ne.c(),k=D(),_=v("p"),x&&x.c(),E=D(),F&&F.c(),m=D(),C=v("div"),M=v("div"),S=v("button"),S.innerHTML=G,ee=D(),j=v("button"),j.innerHTML=te,re=D(),z=v("div"),y=v("div"),I=v("div"),W=v("div"),le=v("h3"),le.textContent=R,L=D(),U=v("div");for(let u=0;u<B.length;u+=1)B[u].c();ae=D(),J=v("div"),Z=v("div"),g=v("h3"),g.textContent=T,Q=D(),ie=v("div"),ue=v("div"),me=v("span"),me.textContent=it,We=D(),ye=v("span"),Ae=P(Me),Je=D(),he=v("div"),pe=v("span"),pe.textContent=rt,Ze=D(),Ee=v("span"),Le=P(Te),Ge=D(),Ce=v("div"),se=v("div"),be=v("h3"),be.textContent=ot,Qe=D(),ge=v("div"),ce.c(),Xe=D(),K&&K.c(),$e=D(),ke=v("div"),$.c(),this.h()},l(u){Ut("svelte-10ezbsk",document.head).forEach(r),l=w(u),t=h(u,"DIV",{class:!0});var q=b(t);Kt(s.$$.fragment,q),o=w(q),i=h(q,"DIV",{class:!0});var De=b(i);f=h(De,"DIV",{class:!0});var H=b(f);d=h(H,"DIV",{});var de=b(d);p=h(de,"H1",{class:!0});var vt=b(p);ne.l(vt),vt.forEach(r),k=w(de),_=h(de,"P",{class:!0});var _t=b(_);x&&x.l(_t),_t.forEach(r),E=w(de),F&&F.l(de),de.forEach(r),m=w(H),C=h(H,"DIV",{class:!0});var mt=b(C);M=h(mt,"DIV",{class:!0});var Ne=b(M);S=h(Ne,"BUTTON",{class:!0,"data-svelte-h":!0}),Y(S)!=="svelte-tp0013"&&(S.innerHTML=G),ee=w(Ne),j=h(Ne,"BUTTON",{class:!0,"data-svelte-h":!0}),Y(j)!=="svelte-10jy0eo"&&(j.innerHTML=te),Ne.forEach(r),mt.forEach(r),H.forEach(r),De.forEach(r),re=w(q),z=h(q,"DIV",{class:!0});var Pe=b(z);y=h(Pe,"DIV",{class:!0});var Ie=b(y);I=h(Ie,"DIV",{class:!0});var pt=b(I);W=h(pt,"DIV",{class:!0});var xe=b(W);le=h(xe,"H3",{class:!0,"data-svelte-h":!0}),Y(le)!=="svelte-1yiuxsb"&&(le.textContent=R),L=w(xe),U=h(xe,"DIV",{class:!0});var bt=b(U);for(let tt=0;tt<B.length;tt+=1)B[tt].l(bt);bt.forEach(r),xe.forEach(r),pt.forEach(r),ae=w(Ie),J=h(Ie,"DIV",{class:!0});var gt=b(J);Z=h(gt,"DIV",{class:!0});var ze=b(Z);g=h(ze,"H3",{class:!0,"data-svelte-h":!0}),Y(g)!=="svelte-x8lsnc"&&(g.textContent=T),Q=w(ze),ie=h(ze,"DIV",{class:!0});var Fe=b(ie);ue=h(Fe,"DIV",{class:!0});var Ke=b(ue);me=h(Ke,"SPAN",{class:!0,"data-svelte-h":!0}),Y(me)!=="svelte-1x6ky2e"&&(me.textContent=it),We=w(Ke),ye=h(Ke,"SPAN",{class:!0});var kt=b(ye);Ae=N(kt,Me),kt.forEach(r),Ke.forEach(r),Je=w(Fe),he=h(Fe,"DIV",{class:!0});var Oe=b(he);pe=h(Oe,"SPAN",{class:!0,"data-svelte-h":!0}),Y(pe)!=="svelte-m3dfw9"&&(pe.textContent=rt),Ze=w(Oe),Ee=h(Oe,"SPAN",{class:!0});var yt=b(Ee);Le=N(yt,Te),yt.forEach(r),Oe.forEach(r),Fe.forEach(r),ze.forEach(r),gt.forEach(r),Ge=w(Ie),Ce=h(Ie,"DIV",{class:!0});var Et=b(Ce);se=h(Et,"DIV",{class:!0});var Ve=b(se);be=h(Ve,"H3",{class:!0,"data-svelte-h":!0}),Y(be)!=="svelte-y3jzhl"&&(be.textContent=ot),Qe=w(Ve),ge=h(Ve,"DIV",{class:!0});var Ct=b(ge);ce.l(Ct),Ct.forEach(r),Xe=w(Ve),K&&K.l(Ve),Ve.forEach(r),Et.forEach(r),Ie.forEach(r),$e=w(Pe),ke=h(Pe,"DIV",{class:!0});var wt=b(ke);$.l(wt),wt.forEach(r),Pe.forEach(r),q.forEach(r),this.h()},h(){c(p,"class","text-3xl font-bold mb-2"),c(_,"class","text-base-content/70"),c(S,"class","btn btn-sm"),_e(S,"btn-active",n[6]==="calendar"),c(j,"class","btn btn-sm"),_e(j,"btn-active",n[6]==="list"),c(M,"class","btn-group"),c(C,"class","flex items-center gap-2"),c(f,"class","flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4"),c(i,"class","mt-6 mb-6"),c(le,"class","font-bold text-sm mb-3"),c(U,"class","space-y-2"),c(W,"class","card-body p-4"),c(I,"class","card bg-base-200 shadow-lg"),c(g,"class","font-bold text-sm mb-3"),c(me,"class","text-base-content/60"),c(ye,"class","font-medium"),c(ue,"class","flex justify-between"),c(pe,"class","text-base-content/60"),c(Ee,"class","font-medium"),c(he,"class","flex justify-between"),c(ie,"class","space-y-2 text-sm"),c(Z,"class","card-body p-4"),c(J,"class","card bg-base-200 shadow-lg"),c(be,"class","font-bold text-sm mb-3"),c(ge,"class","flex items-center gap-2"),c(se,"class","card-body p-4"),c(Ce,"class","card bg-base-200 shadow-lg"),c(y,"class","lg:w-64 space-y-4"),c(ke,"class","flex-1"),c(z,"class","flex flex-col lg:flex-row gap-6"),c(t,"class","container mx-auto p-4 max-w-6xl")},m(u,A){V(u,l,A),V(u,t,A),Ft(s,t,null),a(t,o),a(t,i),a(i,f),a(f,d),a(d,p),ne.m(p,null),a(d,k),a(d,_),x&&x.m(_,null),a(d,E),F&&F.m(d,null),a(f,m),a(f,C),a(C,M),a(M,S),a(M,ee),a(M,j),a(t,re),a(t,z),a(z,y),a(y,I),a(I,W),a(W,le),a(W,L),a(W,U);for(let q=0;q<B.length;q+=1)B[q]&&B[q].m(U,null);a(y,ae),a(y,J),a(J,Z),a(Z,g),a(Z,Q),a(Z,ie),a(ie,ue),a(ue,me),a(ue,We),a(ue,ye),a(ye,Ae),a(ie,Je),a(ie,he),a(he,pe),a(he,Ze),a(he,Ee),a(Ee,Le),a(y,Ge),a(y,Ce),a(Ce,se),a(se,be),a(se,Qe),a(se,ge),ce.m(ge,null),a(se,Xe),K&&K.m(se,null),a(z,$e),a(z,ke),ve[X].m(ke,null),oe=!0,et||(ct=[je(S,"click",n[20]),je(j,"click",n[21])],et=!0)},p(u,A){(!oe||A[0]&2052)&&e!==(e=(u[2]?.name||"Section")+" Calendar - "+u[11].name)&&(document.title=e);const q={};if(A[0]&1024&&(q.items=u[10]),s.$set(q),Be===(Be=dt(u))&&ne?ne.p(u,A):(ne.d(1),ne=Be(u),ne&&(ne.c(),ne.m(p,null))),u[2]?x?x.p(u,A):(x=Mt(u),x.c(),x.m(_,null)):x&&(x.d(1),x=null),u[7]==="availability"?F||(F=Tt(),F.c(),F.m(d,null)):F&&(F.d(1),F=null),(!oe||A[0]&64)&&_e(S,"btn-active",u[6]==="calendar"),(!oe||A[0]&64)&&_e(j,"btn-active",u[6]==="list"),A[0]&16898){we=Se(u[9]);let H;for(H=0;H<we.length;H+=1){const de=Vt(u,we,H);B[H]?B[H].p(de,A):(B[H]=At(de),B[H].c(),B[H].m(U,null))}for(;H<B.length;H+=1)B[H].d(1);B.length=we.length}(!oe||A[0]&1)&&Me!==(Me=u[0].length+"")&&O(Ae,Me),(!oe||A[0]&1)&&Te!==(Te=u[0].filter(u[23]).length+"")&&O(Le,Te),He!==(He=ft(u))&&(ce.d(1),ce=He(u),ce&&(ce.c(),ce.m(ge,null))),u[2]?.calendar?.canCreate&&u[7]==="full"?K||(K=Lt(),K.c(),K.m(se,null)):K&&(K.d(1),K=null);let De=X;X=ht(u),X===De?ve[X].p(u,A):(Zt(),Ue(ve[De],1,1,()=>{ve[De]=null}),Jt(),$=ve[X],$?$.p(u,A):($=ve[X]=ut[X](u),$.c()),qe($,1),$.m(ke,null))},i(u){oe||(qe(s.$$.fragment,u),qe($),oe=!0)},o(u){Ue(s.$$.fragment,u),Ue($),oe=!1},d(u){u&&(r(l),r(t)),zt(s),ne.d(),x&&x.d(),F&&F.d(),Pt(B,u),ce.d(),K&&K.d(),ve[X].d(),et=!1,xt(ct)}}}function Il(n){}function Vl(n,e,l){let t,s,o,i,f,d,p,k,_,E,m,C,M;Re(n,nl,g=>l(27,E=g)),Re(n,Dt,g=>l(28,m=g)),Re(n,sl,g=>l(18,C=g)),Re(n,Xt,g=>l(19,M=g));const S=$t();let G=[],ee=[],j=!0,te=null,re=new Date,z="calendar",y="none";qt(async()=>{if(await Dt.waitForReady(),!m.isAuthenticated||!m.publicKey){nt(`${at}/`);return}if(!i||!f){l(5,te=`Section "${s}" not found`),l(4,j=!1);return}if(l(7,y=ol(p,s)),y==="none"){l(5,te="You do not have access to this section calendar"),l(4,j=!1);return}try{!al()&&m.privateKey&&await il(rl,m.privateKey);const g=await cl(s);let T=[];if((s==="minimoonoir-rooms"||s==="community-rooms")&&m.publicKey&&(T=await dl(m.publicKey)),l(0,G=[...g,...T].sort((Q,ie)=>Q.start-ie.start)),E)try{const Q=[...g,...T];l(3,ee=fl(s,Q,E))}catch(Q){console.warn("Failed to load cross-zone blocks:",Q)}}catch(g){console.error("Failed to load section events:",g),l(5,te=g instanceof Error?g.message:"Failed to load events")}finally{l(4,j=!1)}});function I(g){const T=g.detail;"messageId"in T&&T.messageId&&nt(`${at}/chat?channel=${T.channelId}&message=${T.messageId}`)}function W(g,T){nt(`${at}/${g}/${T}/calendar`)}function le(g){return y==="availability"&&!("id"in g&&g.id.startsWith("birthday-"))?{...g,title:"Event (Details Hidden)",description:"",location:void 0}:g}const R=()=>l(6,z="calendar"),L=()=>l(6,z="list"),U=(g,T)=>W(g.id,T.id),ae=g=>g.start>Date.now()/1e3,J=g=>I(new CustomEvent("click",{detail:g})),Z=(g,T)=>T.key==="Enter"&&I(new CustomEvent("click",{detail:g}));return n.$$.update=()=>{n.$$.dirty[0]&524288&&l(16,t=M.params.category),n.$$.dirty[0]&524288&&l(1,s=M.params.section),n.$$.dirty[0]&2&&l(17,o=el(s)),n.$$.dirty[0]&131072&&l(2,i=o?.section),n.$$.dirty[0]&131072&&l(15,f=o?.category),n.$$.dirty[0]&98310&&l(10,d=i&&f?[...tl(t,s),{label:"Calendar",path:`/${t}/${s}/calendar`}]:[]),n.$$.dirty[0]&262144&&(p=C.profile?.cohorts||[]),n.$$.dirty[0]&1&&l(8,_=G.map(le))},l(9,k=ll()),[G,s,i,ee,j,te,z,y,_,k,d,S,re,I,W,f,t,o,C,M,R,L,U,ae,J,Z]}class Ul extends Yt{constructor(e){super(),Wt(this,e,Vl,Dl,Rt,{},null,[-1,-1])}}export{Ul as component};
