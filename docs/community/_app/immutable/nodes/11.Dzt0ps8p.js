import{s as zt,d as f,a as X,i as $,b as e,q as Dt,l as h,m as Ot,g as x,c as d,e as m,o as Q,f as F,x as yt,j as C,h as v,t as W,k as At,p as Rt,n as _t,z as qt,r as Ut}from"../chunks/CwRy9Tox.js";import{S as Kt,i as Ft,t as It,a as Vt,c as Wt,d as Qt,m as Yt,b as Gt,e as Jt,g as Xt}from"../chunks/D-vqeeah.js";import{e as xt}from"../chunks/BFk-VQ8S.js";import{g as Et}from"../chunks/ByVBgyHd.js";import{b as kt}from"../chunks/C7Jxsl90.js";import{g as Zt,a as $t}from"../chunks/CPJguzua.js";import{i as te}from"../chunks/BFkiipW6.js";import{isConnected as ee,connectRelay as le}from"../chunks/Cne-Q8lD.js";import{R as se}from"../chunks/CsmHjMo3.js";import{f as ae}from"../chunks/CylQKJvI.js";import{f as ne}from"../chunks/BHI1xTYJ.js";import{E as ie}from"../chunks/D0tG0Fu3.js";function Tt(n,t,l){const s=n.slice();return s[17]=t[l][0],s[18]=t[l][1],s}function Mt(n,t,l){const s=n.slice();return s[21]=t[l],s}function oe(n){let t,l,s,i,a,o,r,c,u="Upcoming This Week",D,A,k,E,w,tt="Events by Channel",Y,j,q,H,p=`<div class="card-body p-4"><h3 class="font-bold text-lg text-primary mb-3">Quick Actions</h3> <div class="space-y-2"><a href="${kt}/events" class="btn btn-sm btn-block btn-ghost justify-start"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
                Public Events Page</a> <a href="${kt}/admin" class="btn btn-sm btn-block btn-ghost justify-start"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
                Admin Dashboard</a></div></div>`,I;s=new ie({props:{events:n[0],currentDate:n[8]}}),s.$on("eventClick",n[10]);function T(g,N){return g[5].length===0?ve:de}let G=T(n),S=G(n),z=xt(Object.entries(n[6])),M=[];for(let g=0;g<z.length;g+=1)M[g]=Bt(Tt(n,z,g));return{c(){t=v("div"),l=v("div"),Jt(s.$$.fragment),i=C(),a=v("div"),o=v("div"),r=v("div"),c=v("h3"),c.textContent=u,D=C(),S.c(),A=C(),k=v("div"),E=v("div"),w=v("h3"),w.textContent=tt,Y=C(),j=v("div");for(let g=0;g<M.length;g+=1)M[g].c();q=C(),H=v("div"),H.innerHTML=p,this.h()},l(g){t=d(g,"DIV",{class:!0});var N=m(t);l=d(N,"DIV",{class:!0});var B=m(l);Gt(s.$$.fragment,B),B.forEach(f),i=x(N),a=d(N,"DIV",{class:!0});var y=m(a);o=d(y,"DIV",{class:!0});var st=m(o);r=d(st,"DIV",{class:!0});var Z=m(r);c=d(Z,"H3",{class:!0,"data-svelte-h":!0}),Q(c)!=="svelte-198ofky"&&(c.textContent=u),D=x(Z),S.l(Z),Z.forEach(f),st.forEach(f),A=x(y),k=d(y,"DIV",{class:!0});var et=m(k);E=d(et,"DIV",{class:!0});var lt=m(E);w=d(lt,"H3",{class:!0,"data-svelte-h":!0}),Q(w)!=="svelte-1fkkipl"&&(w.textContent=tt),Y=x(lt),j=d(lt,"DIV",{class:!0});var at=m(j);for(let nt=0;nt<M.length;nt+=1)M[nt].l(at);at.forEach(f),lt.forEach(f),et.forEach(f),q=x(y),H=d(y,"DIV",{class:!0,"data-svelte-h":!0}),Q(H)!=="svelte-1r0qfrb"&&(H.innerHTML=p),y.forEach(f),N.forEach(f),this.h()},h(){h(l,"class","xl:col-span-2"),h(c,"class","font-bold text-lg text-primary mb-3"),h(r,"class","card-body p-4"),h(o,"class","card bg-base-200 shadow-lg"),h(w,"class","font-bold text-lg text-primary mb-3"),h(j,"class","space-y-3"),h(E,"class","card-body p-4"),h(k,"class","card bg-base-200 shadow-lg"),h(H,"class","card bg-base-200 shadow-lg"),h(a,"class","space-y-4"),h(t,"class","grid grid-cols-1 xl:grid-cols-3 gap-6")},m(g,N){$(g,t,N),e(t,l),Yt(s,l,null),e(t,i),e(t,a),e(a,o),e(o,r),e(r,c),e(r,D),S.m(r,null),e(a,A),e(a,k),e(k,E),e(E,w),e(E,Y),e(E,j);for(let B=0;B<M.length;B+=1)M[B]&&M[B].m(j,null);e(a,q),e(a,H),I=!0},p(g,N){const B={};if(N&1&&(B.events=g[0]),s.$set(B),G===(G=T(g))&&S?S.p(g,N):(S.d(1),S=G(g),S&&(S.c(),S.m(r,null))),N&576){z=xt(Object.entries(g[6]));let y;for(y=0;y<z.length;y+=1){const st=Tt(g,z,y);M[y]?M[y].p(st,N):(M[y]=Bt(st),M[y].c(),M[y].m(j,null))}for(;y<M.length;y+=1)M[y].d(1);M.length=z.length}},i(g){I||(Vt(s.$$.fragment,g),I=!0)},o(g){It(s.$$.fragment,g),I=!1},d(g){g&&f(t),Qt(s),S.d(),qt(M,g)}}}function re(n){let t,l,s;return{c(){t=v("div"),l=v("span"),s=W(n[3]),this.h()},l(i){t=d(i,"DIV",{class:!0});var a=m(t);l=d(a,"SPAN",{});var o=m(l);s=F(o,n[3]),o.forEach(f),a.forEach(f),this.h()},h(){h(t,"class","alert alert-error")},m(i,a){$(i,t,a),e(t,l),e(l,s)},p(i,a){a&8&&X(s,i[3])},i:_t,o:_t,d(i){i&&f(t)}}}function ce(n){let t,l='<span class="loading loading-spinner loading-lg text-primary"></span>';return{c(){t=v("div"),t.innerHTML=l,this.h()},l(s){t=d(s,"DIV",{class:!0,"data-svelte-h":!0}),Q(t)!=="svelte-f5e84o"&&(t.innerHTML=l),this.h()},h(){h(t,"class","flex justify-center items-center min-h-[400px]")},m(s,i){$(s,t,i)},p:_t,i:_t,o:_t,d(s){s&&f(t)}}}function de(n){let t,l=xt(n[5]),s=[];for(let i=0;i<l.length;i+=1)s[i]=jt(Mt(n,l,i));return{c(){t=v("div");for(let i=0;i<s.length;i+=1)s[i].c();this.h()},l(i){t=d(i,"DIV",{class:!0});var a=m(t);for(let o=0;o<s.length;o+=1)s[o].l(a);a.forEach(f),this.h()},h(){h(t,"class","space-y-2")},m(i,a){$(i,t,a);for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(t,null)},p(i,a){if(a&560){l=xt(i[5]);let o;for(o=0;o<l.length;o+=1){const r=Mt(i,l,o);s[o]?s[o].p(r,a):(s[o]=jt(r),s[o].c(),s[o].m(t,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=l.length}},d(i){i&&f(t),qt(s,i)}}}function ve(n){let t,l="No upcoming events";return{c(){t=v("p"),t.textContent=l,this.h()},l(s){t=d(s,"P",{class:!0,"data-svelte-h":!0}),Q(t)!=="svelte-1a16jdk"&&(t.textContent=l),this.h()},h(){h(t,"class","text-base-content/60 text-sm text-center py-4")},m(s,i){$(s,t,i)},p:_t,d(s){s&&f(t)}}}function jt(n){let t,l,s,i=new Date(n[21].start*1e3).getDate()+"",a,o,r,c,u=n[21].title+"",D,A,k,E=n[9](n[21].channelId)+"",w,tt,Y,j;function q(){return n[13](n[21])}return{c(){t=v("button"),l=v("div"),s=v("div"),a=W(i),o=C(),r=v("div"),c=v("div"),D=W(u),A=C(),k=v("div"),w=W(E),tt=C(),this.h()},l(H){t=d(H,"BUTTON",{class:!0});var p=m(t);l=d(p,"DIV",{class:!0});var I=m(l);s=d(I,"DIV",{class:!0});var T=m(s);a=F(T,i),T.forEach(f),o=x(I),r=d(I,"DIV",{class:!0});var G=m(r);c=d(G,"DIV",{class:!0});var S=m(c);D=F(S,u),S.forEach(f),A=x(G),k=d(G,"DIV",{class:!0});var z=m(k);w=F(z,E),z.forEach(f),G.forEach(f),I.forEach(f),tt=x(p),p.forEach(f),this.h()},h(){h(s,"class","flex-shrink-0 w-8 h-8 rounded bg-primary/20 flex items-center justify-center text-primary text-xs font-bold"),h(c,"class","font-medium text-sm truncate"),h(k,"class","text-xs text-base-content/60"),h(r,"class","flex-1 min-w-0"),h(l,"class","flex items-start gap-2"),h(t,"class","w-full text-left hover:bg-base-300 rounded-lg p-2 -mx-2 transition-colors")},m(H,p){$(H,t,p),e(t,l),e(l,s),e(s,a),e(l,o),e(l,r),e(r,c),e(c,D),e(r,A),e(r,k),e(k,w),e(t,tt),Y||(j=Dt(t,"click",q),Y=!0)},p(H,p){n=H,p&32&&i!==(i=new Date(n[21].start*1e3).getDate()+"")&&X(a,i),p&32&&u!==(u=n[21].title+"")&&X(D,u),p&32&&E!==(E=n[9](n[21].channelId)+"")&&X(w,E)},d(H){H&&f(t),Y=!1,j()}}}function Bt(n){let t,l,s=n[9](n[17])+"",i,a,o,r=n[18].length+"",c,u;return{c(){t=v("div"),l=v("span"),i=W(s),a=C(),o=v("span"),c=W(r),u=C(),this.h()},l(D){t=d(D,"DIV",{class:!0});var A=m(t);l=d(A,"SPAN",{class:!0});var k=m(l);i=F(k,s),k.forEach(f),a=x(A),o=d(A,"SPAN",{class:!0});var E=m(o);c=F(E,r),E.forEach(f),u=x(A),A.forEach(f),this.h()},h(){h(l,"class","truncate flex-1"),h(o,"class","badge badge-primary badge-sm"),h(t,"class","flex items-center justify-between text-sm")},m(D,A){$(D,t,A),e(t,l),e(l,i),e(t,a),e(t,o),e(o,c),e(t,u)},p(D,A){A&64&&s!==(s=D[9](D[17])+"")&&X(i,s),A&64&&r!==(r=D[18].length+"")&&X(c,r)},d(D){D&&f(t)}}}function Ht(n){let t,l,s,i=n[4].title+"",a,o,r,c,u,D="Date & Time",A,k,E=Ct(n[4].start)+"",w,tt,Y,j,q,H="Channel",p,I,T=n[9](n[4].channelId)+"",G,S,z,M,g,N,B,y="Created By",st,Z,et=n[4].createdBy.slice(0,16)+"",lt,at,nt,R,O,vt="Close",rt,J,ut="Close",ht,pt,L=n[4].end&&n[4].end!==n[4].start&&Lt(n),U=n[4].location&&Nt(n),V=n[4].description&&Pt(n),_=n[4].maxAttendees&&St(n);return{c(){t=v("div"),l=v("div"),s=v("h3"),a=W(i),o=C(),r=v("div"),c=v("div"),u=v("div"),u.textContent=D,A=C(),k=v("div"),w=W(E),tt=C(),L&&L.c(),Y=C(),j=v("div"),q=v("div"),q.textContent=H,p=C(),I=v("div"),G=W(T),S=C(),U&&U.c(),z=C(),V&&V.c(),M=C(),_&&_.c(),g=C(),N=v("div"),B=v("div"),B.textContent=y,st=C(),Z=v("div"),lt=W(et),at=W("..."),nt=C(),R=v("div"),O=v("button"),O.textContent=vt,rt=C(),J=v("button"),J.textContent=ut,this.h()},l(b){t=d(b,"DIV",{class:!0});var P=m(t);l=d(P,"DIV",{class:!0});var it=m(l);s=d(it,"H3",{class:!0});var ft=m(s);a=F(ft,i),ft.forEach(f),o=x(it),r=d(it,"DIV",{class:!0});var K=m(r);c=d(K,"DIV",{});var ot=m(c);u=d(ot,"DIV",{class:!0,"data-svelte-h":!0}),Q(u)!=="svelte-17h9v1k"&&(u.textContent=D),A=x(ot),k=d(ot,"DIV",{class:!0});var bt=m(k);w=F(bt,E),bt.forEach(f),tt=x(ot),L&&L.l(ot),ot.forEach(f),Y=x(K),j=d(K,"DIV",{});var ct=m(j);q=d(ct,"DIV",{class:!0,"data-svelte-h":!0}),Q(q)!=="svelte-1irbi4o"&&(q.textContent=H),p=x(ct),I=d(ct,"DIV",{class:!0});var gt=m(I);G=F(gt,T),gt.forEach(f),ct.forEach(f),S=x(K),U&&U.l(K),z=x(K),V&&V.l(K),M=x(K),_&&_.l(K),g=x(K),N=d(K,"DIV",{});var dt=m(N);B=d(dt,"DIV",{class:!0,"data-svelte-h":!0}),Q(B)!=="svelte-ul1hwm"&&(B.textContent=y),st=x(dt),Z=d(dt,"DIV",{class:!0});var mt=m(Z);lt=F(mt,et),at=F(mt,"..."),mt.forEach(f),dt.forEach(f),K.forEach(f),nt=x(it),R=d(it,"DIV",{class:!0});var wt=m(R);O=d(wt,"BUTTON",{class:!0,"data-svelte-h":!0}),Q(O)!=="svelte-4cqlrq"&&(O.textContent=vt),wt.forEach(f),it.forEach(f),rt=x(P),J=d(P,"BUTTON",{class:!0,"data-svelte-h":!0}),Q(J)!=="svelte-1ywlr3u"&&(J.textContent=ut),P.forEach(f),this.h()},h(){h(s,"class","font-bold text-xl mb-4"),h(u,"class","text-sm text-base-content/60"),h(k,"class","font-medium"),h(q,"class","text-sm text-base-content/60"),h(I,"class","font-medium"),h(B,"class","text-sm text-base-content/60"),h(Z,"class","font-mono text-xs"),h(r,"class","space-y-3"),h(O,"class","btn"),h(R,"class","modal-action"),h(l,"class","modal-box max-w-lg"),h(J,"class","modal-backdrop"),h(t,"class","modal modal-open")},m(b,P){$(b,t,P),e(t,l),e(l,s),e(s,a),e(l,o),e(l,r),e(r,c),e(c,u),e(c,A),e(c,k),e(k,w),e(c,tt),L&&L.m(c,null),e(r,Y),e(r,j),e(j,q),e(j,p),e(j,I),e(I,G),e(r,S),U&&U.m(r,null),e(r,z),V&&V.m(r,null),e(r,M),_&&_.m(r,null),e(r,g),e(r,N),e(N,B),e(N,st),e(N,Z),e(Z,lt),e(Z,at),e(l,nt),e(l,R),e(R,O),e(t,rt),e(t,J),ht||(pt=[Dt(O,"click",n[11]),Dt(J,"click",n[11])],ht=!0)},p(b,P){P&16&&i!==(i=b[4].title+"")&&X(a,i),P&16&&E!==(E=Ct(b[4].start)+"")&&X(w,E),b[4].end&&b[4].end!==b[4].start?L?L.p(b,P):(L=Lt(b),L.c(),L.m(c,null)):L&&(L.d(1),L=null),P&16&&T!==(T=b[9](b[4].channelId)+"")&&X(G,T),b[4].location?U?U.p(b,P):(U=Nt(b),U.c(),U.m(r,z)):U&&(U.d(1),U=null),b[4].description?V?V.p(b,P):(V=Pt(b),V.c(),V.m(r,M)):V&&(V.d(1),V=null),b[4].maxAttendees?_?_.p(b,P):(_=St(b),_.c(),_.m(r,g)):_&&(_.d(1),_=null),P&16&&et!==(et=b[4].createdBy.slice(0,16)+"")&&X(lt,et)},d(b){b&&f(t),L&&L.d(),U&&U.d(),V&&V.d(),_&&_.d(),ht=!1,Ut(pt)}}}function Lt(n){let t,l,s=Ct(n[4].end)+"",i;return{c(){t=v("div"),l=W("to "),i=W(s),this.h()},l(a){t=d(a,"DIV",{class:!0});var o=m(t);l=F(o,"to "),i=F(o,s),o.forEach(f),this.h()},h(){h(t,"class","text-sm")},m(a,o){$(a,t,o),e(t,l),e(t,i)},p(a,o){o&16&&s!==(s=Ct(a[4].end)+"")&&X(i,s)},d(a){a&&f(t)}}}function Nt(n){let t,l,s="Location",i,a,o=n[4].location+"",r;return{c(){t=v("div"),l=v("div"),l.textContent=s,i=C(),a=v("div"),r=W(o),this.h()},l(c){t=d(c,"DIV",{});var u=m(t);l=d(u,"DIV",{class:!0,"data-svelte-h":!0}),Q(l)!=="svelte-1jk1u8w"&&(l.textContent=s),i=x(u),a=d(u,"DIV",{class:!0});var D=m(a);r=F(D,o),D.forEach(f),u.forEach(f),this.h()},h(){h(l,"class","text-sm text-base-content/60"),h(a,"class","font-medium")},m(c,u){$(c,t,u),e(t,l),e(t,i),e(t,a),e(a,r)},p(c,u){u&16&&o!==(o=c[4].location+"")&&X(r,o)},d(c){c&&f(t)}}}function Pt(n){let t,l,s="Description",i,a,o=n[4].description+"",r;return{c(){t=v("div"),l=v("div"),l.textContent=s,i=C(),a=v("div"),r=W(o),this.h()},l(c){t=d(c,"DIV",{});var u=m(t);l=d(u,"DIV",{class:!0,"data-svelte-h":!0}),Q(l)!=="svelte-1s9d3m7"&&(l.textContent=s),i=x(u),a=d(u,"DIV",{class:!0});var D=m(a);r=F(D,o),D.forEach(f),u.forEach(f),this.h()},h(){h(l,"class","text-sm text-base-content/60"),h(a,"class","text-sm")},m(c,u){$(c,t,u),e(t,l),e(t,i),e(t,a),e(a,r)},p(c,u){u&16&&o!==(o=c[4].description+"")&&X(r,o)},d(c){c&&f(t)}}}function St(n){let t,l,s="Max Attendees",i,a,o=n[4].maxAttendees+"",r;return{c(){t=v("div"),l=v("div"),l.textContent=s,i=C(),a=v("div"),r=W(o),this.h()},l(c){t=d(c,"DIV",{});var u=m(t);l=d(u,"DIV",{class:!0,"data-svelte-h":!0}),Q(l)!=="svelte-1ywu55e"&&(l.textContent=s),i=x(u),a=d(u,"DIV",{class:!0});var D=m(a);r=F(D,o),D.forEach(f),u.forEach(f),this.h()},h(){h(l,"class","text-sm text-base-content/60"),h(a,"class","font-medium")},m(c,u){$(c,t,u),e(t,l),e(t,i),e(t,a),e(a,r)},p(c,u){u&16&&o!==(o=c[4].maxAttendees+"")&&X(r,o)},d(c){c&&f(t)}}}function fe(n){let t,l,s,i,a,o=`<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
      Back to Admin`,r,c,u,D='<h1 class="text-4xl font-bold gradient-text mb-2">Admin Calendar</h1> <p class="text-base-content/70">Combined view of all channel events</p>',A,k,E,w,tt="Total Events",Y,j,q=n[0].length+"",H,p,I,T,G="Channels",S,z,M=n[1].length+"",g,N,B,y,st="This Week",Z,et,lt=n[5].length+"",at,nt,R,O,vt,rt,J,ut,ht;document.title=t="Admin Calendar - "+n[7].name;const pt=[ce,re,oe],L=[];function U(_,b){return _[2]?0:_[3]?1:2}R=U(n),O=L[R]=pt[R](n);let V=n[4]&&Ht(n);return{c(){l=C(),s=v("div"),i=v("div"),a=v("button"),a.innerHTML=o,r=C(),c=v("div"),u=v("div"),u.innerHTML=D,A=C(),k=v("div"),E=v("div"),w=v("div"),w.textContent=tt,Y=C(),j=v("div"),H=W(q),p=C(),I=v("div"),T=v("div"),T.textContent=G,S=C(),z=v("div"),g=W(M),N=C(),B=v("div"),y=v("div"),y.textContent=st,Z=C(),et=v("div"),at=W(lt),nt=C(),O.c(),vt=C(),V&&V.c(),rt=yt(),this.h()},l(_){Ot("svelte-1irejz",document.head).forEach(f),l=x(_),s=d(_,"DIV",{class:!0});var P=m(s);i=d(P,"DIV",{class:!0});var it=m(i);a=d(it,"BUTTON",{class:!0,"data-svelte-h":!0}),Q(a)!=="svelte-1mdfos0"&&(a.innerHTML=o),r=x(it),c=d(it,"DIV",{class:!0});var ft=m(c);u=d(ft,"DIV",{"data-svelte-h":!0}),Q(u)!=="svelte-19yjqzf"&&(u.innerHTML=D),A=x(ft),k=d(ft,"DIV",{class:!0});var K=m(k);E=d(K,"DIV",{class:!0});var ot=m(E);w=d(ot,"DIV",{class:!0,"data-svelte-h":!0}),Q(w)!=="svelte-1ithsfi"&&(w.textContent=tt),Y=x(ot),j=d(ot,"DIV",{class:!0});var bt=m(j);H=F(bt,q),bt.forEach(f),ot.forEach(f),p=x(K),I=d(K,"DIV",{class:!0});var ct=m(I);T=d(ct,"DIV",{class:!0,"data-svelte-h":!0}),Q(T)!=="svelte-1o6ualt"&&(T.textContent=G),S=x(ct),z=d(ct,"DIV",{class:!0});var gt=m(z);g=F(gt,M),gt.forEach(f),ct.forEach(f),N=x(K),B=d(K,"DIV",{class:!0});var dt=m(B);y=d(dt,"DIV",{class:!0,"data-svelte-h":!0}),Q(y)!=="svelte-1q599f3"&&(y.textContent=st),Z=x(dt),et=d(dt,"DIV",{class:!0});var mt=m(et);at=F(mt,lt),mt.forEach(f),dt.forEach(f),K.forEach(f),ft.forEach(f),it.forEach(f),nt=x(P),O.l(P),P.forEach(f),vt=x(_),V&&V.l(_),rt=yt(),this.h()},h(){h(a,"class","btn btn-ghost btn-sm gap-1 mb-4"),h(w,"class","stat-title text-xs"),h(j,"class","stat-value text-2xl text-primary"),h(E,"class","stat py-2 px-4"),h(T,"class","stat-title text-xs"),h(z,"class","stat-value text-2xl text-secondary"),h(I,"class","stat py-2 px-4"),h(y,"class","stat-title text-xs"),h(et,"class","stat-value text-2xl text-accent"),h(B,"class","stat py-2 px-4"),h(k,"class","stats shadow bg-base-200"),h(c,"class","flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4"),h(i,"class","mb-6"),h(s,"class","container mx-auto p-4 max-w-7xl")},m(_,b){$(_,l,b),$(_,s,b),e(s,i),e(i,a),e(i,r),e(i,c),e(c,u),e(c,A),e(c,k),e(k,E),e(E,w),e(E,Y),e(E,j),e(j,H),e(k,p),e(k,I),e(I,T),e(I,S),e(I,z),e(z,g),e(k,N),e(k,B),e(B,y),e(B,Z),e(B,et),e(et,at),e(s,nt),L[R].m(s,null),$(_,vt,b),V&&V.m(_,b),$(_,rt,b),J=!0,ut||(ht=Dt(a,"click",n[12]),ut=!0)},p(_,[b]){(!J||b&128)&&t!==(t="Admin Calendar - "+_[7].name)&&(document.title=t),(!J||b&1)&&q!==(q=_[0].length+"")&&X(H,q),(!J||b&2)&&M!==(M=_[1].length+"")&&X(g,M),(!J||b&32)&&lt!==(lt=_[5].length+"")&&X(at,lt);let P=R;R=U(_),R===P?L[R].p(_,b):(Xt(),It(L[P],1,1,()=>{L[P]=null}),Wt(),O=L[R],O?O.p(_,b):(O=L[R]=pt[R](_),O.c()),Vt(O,1),O.m(s,null)),_[4]?V?V.p(_,b):(V=Ht(_),V.c(),V.m(rt.parentNode,rt)):V&&(V.d(1),V=null)},i(_){J||(Vt(O),J=!0)},o(_){It(O),J=!1},d(_){_&&(f(l),f(s),f(vt),f(rt)),L[R].d(),V&&V.d(_),ut=!1,ht()}}}function Ct(n){return new Date(n*1e3).toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function ue(n,t,l){let s,i,a,o;At(n,$t,p=>l(14,a=p)),At(n,te,p=>l(15,o=p));const r=Zt();let c=[],u=[],D=new Map,A=!0,k=null,E=new Date,w=null;Rt(async()=>{if(!a.isAuthenticated||!a.publicKey){Et(`${kt}/`);return}if(!o){Et(`${kt}/events`);return}try{!ee()&&a.privateKey&&await le(se,a.privateKey);const[p,I]=await Promise.all([ne({isAdmin:!0}),ae()]);l(1,u=p),l(0,c=I),u.forEach(T=>D.set(T.id,T.name))}catch(p){console.error("Failed to load calendar data:",p),l(3,k=p instanceof Error?p.message:"Failed to load calendar data")}finally{l(2,A=!1)}});function tt(p){return D.get(p)||p.slice(0,8)+"..."}function Y(p){l(4,w=p.detail)}function j(){l(4,w=null)}function q(){Et(`${kt}/admin`)}const H=p=>l(4,w=p);return n.$$.update=()=>{n.$$.dirty&1&&l(6,s=c.reduce((p,I)=>{const T=I.channelId||"uncategorized";return p[T]||(p[T]=[]),p[T].push(I),p},{})),n.$$.dirty&1&&l(5,i=c.filter(p=>{const I=Math.floor(Date.now()/1e3),T=I+7*24*60*60;return p.start>=I&&p.start<=T}).slice(0,10))},[c,u,A,k,w,i,s,r,E,tt,Y,j,q,H]}class Ve extends Kt{constructor(t){super(),Ft(this,t,ue,fe,zt,{})}}export{Ve as component};
